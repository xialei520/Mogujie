!function(e,t,n){t.MGTOOL={},e.extend(MGTOOL,{byteLength:function(e){var t=e.match(/[^\x00-\x80]/g);return e.length+(t?t.length:0)},jsMbSubstr:function(e,t){if(!e||!t)return"";var n=0,o=0,r="",i=e.length;for(o=0;i>o;o++){if(n=e.charCodeAt(o)>255?n+=2:++n,n>2*t)return r;r+=e.charAt(o)}return e},formatMoney:function(e,t,n){if(t=MGTOOL.empty(e)?"2":t,MGTOOL.empty(n))return e.toFixed(t);var o=0>e?"-":"",r=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",i=(i=r.length)>3?i%3:0;return o+(i?r.substr(0,i)+n:"")+r.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?"."+Math.abs(e-r).toFixed(t).slice(2):"")}}),e.extend(MGTOOL,{emptyObj:function(e){for(var t in e)return!1;return!0},empty:function(e){return null==e||0===e.length},objToJson:function(e){return JSON.stringify(e)}}),e.extend(MGTOOL,{setCookie:function(e,t,n){n=n||{},null===t&&(t="",n.expires=-1);var o="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var r;"number"==typeof n.expires?(r=new Date,r.setTime(r.getTime()+864e5*n.expires)):r=n.expires,o="; expires="+r.toUTCString()}var i=n.path?"; path="+n.path:"",u=n.secure?"; secure":"",a="";n.domain?a="; domain="+n.domain:(a=document.domain.toString().split("."),a="; domain=."+a[1]+"."+a[2]),document.cookie=[e,"=",encodeURIComponent(t),o,i,a,u].join("")},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""},removeCookie:function(e){MGTOOL.setCookie(e,null,{expires:-1})},setCacheCookie:function(t,n,o,r){o=o||{},null===n&&(n="");var i="undefined"==typeof r?MGTOOL.getCookie("__mgjuuid"):r;e.ajax({url:"/collect/uedcookie",type:"POST",timeout:6e4,data:{cookiename:t,uuid:i,type:"set",value:n,lifetime:86400*o.expires},dataType:"json",success:function(e){""===e&&alert(MGLANG.msgTimeout)}})},getCacheCookie:function(t,n){var o="undefined"==typeof n?MGTOOL.getCookie("__mgjuuid"):n,r="";return e.ajax({url:"/collect/uedcookie",type:"POST",timeout:6e4,async:!1,data:{cookiename:t,uuid:o,type:"get"},dataType:"json",success:function(e){var t=e.status.code;e.status.msg;if(1001==t){var n=e.result.data.value;r=n}else alert(MGLANG.msgTimeout)}}),r}}),e.extend(MGTOOL,{getQueryString:function(e,t){t="undefined"!=typeof t?t:location.href;var n=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return n.test(t)?RegExp.$2.replace(/\+/g," "):""},getPicExtension:function(e){return/(.+)\.(.+)/.exec(e)?RegExp.$2:""},filterDomain:function(e){var t=/http:\/\/[^\/]+/;return e.replace(t,"")}}),e.extend(MGTOOL,{throttleM:{isLoading:!1,throttoleXhr:function(e,t){var n=this;if(!n.isLoading){t=t||500,n.isLoading=!0;var o=e();o.complete=function(){setTimeout(function(){n.isLoading=!1},t)}}}}}),e.extend(MGTOOL,{getMsgLength:function(e){var t=e.length;if(t>0){for(var n=41,o=140,r=24,i=e,u=e.match(/http[s]?:\/\/[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+([-A-Z0-9a-z_\$\.\+\!\*\(\)\/\/,:;@&=\?\~\#\%]*)*/gi)||[],a=0,s=0,c=u.length;c>s;s++){var g=MGTOOL.byteLength(u[s]);/^(http:\/\/mogujie.cn)/.test(u[s])||(a+=/^(http:\/\/)+(mogujie.cn|mogujie.com)/.test(u[s])&&n>=g?g:o>=g?r:g-o+r,i=i.replace(u[s],""))}return Math.ceil((a+MGTOOL.byteLength(i))/2)}return 0},getAbsoluteLocation:function(n){if(1!==arguments.length||null===n)return null;var o=e(n),r=o.offset(),i=r.top,u=r.left,a=o.height(),s=e(t).height(),c=e(document).scrollTop(),g=i>=c&&c+s>=i,l=i+a+200>=c&&c+s>=i-400;return{absoluteTop:i,absoluteLeft:u,isInView:g,isLoad:l}},distance2Bottom:function(n){var o=e(document),r=e(t),i=o.scrollTop(),u=r.height(),a=o.height();return i+u+n>=a},isParent:function(e,t){for(;e!==n&&null!==e&&"BODY"!=e.tagName.toUpperCase();){if(e==t)return!0;e=e.parentNode}return!1},template:function(e,t){return doT.template(e)(t)},log:function(e){t.console!==n&&console.log(e)},dataFormat:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}}),e.extend(MGTOOL,{trim:function(t){return e.trim(t)},getRequest:function(e,t){return this.getQueryString(e,t)}})}(jQuery,window);var MOGU=MOGU||{};!function(t){MOGU.Globe_Textarea_Auto_Height=function(e){var o=e.height(),i=function(){0>o&&(o=e.height()),(t.browser.mozilla||t.browser.safari)&&e.height(o);var i=e[0].scrollHeight,n=o>i?o:i;n=1.5*o>n?o:i,e.height(n)};e.bind("keyup",i).bind("input",i).bind("propertychange",i).bind("focus",i)},MOGU.Globe_Goods_URL_Support=function(t){var e=/item(.[\w]+)?.taobao.com\/(.?)[item.htm|item_num_id|item_detail|itemID|item_id|default_item_id]/i,o=/detail.tmall/i,i=/auction\d?.paipai.com/i,n=/buy.caomeipai.com\/goods/i,a=/www.360buy.com\/product/i,c=/product.dangdang.com\/Product.aspx\?product_id=/i,r=/book.360buy.com/i,s=/www.vancl.com\/StyleDetail/i,u=/www.vancl.com\/Product/i,l=/vt.vancl.com\/item/i,d=/item.vancl.com\/\d+/i,m=/item.vt.vancl.com\/\d+/i,w=/(mbaobao.com\/pshow)|(mbaobao.com\/item)/i,f=/item.buy.qq.com\/item/i,_=/[www|us].topshop.com\/webapp\/wcs\/stores\/servlet\/ProductDisplay/i,b=/quwan.com\/goods/i,h=/nala.com.cn\/product/i,p=/maymay.cn\/pitem/i,v=/asos.com/i,g=/www.100f1.com\/ProductInfo_/i,y=/www.gaojie.com\/product/i,G=/a.m.taobao.com\/i/i,O=/www.51yugou.com\//i,M=/www.1mall.com\//i,U=/www.yihaodian.com\//i,k=/www.xipin.me\//i,j=/www.nuandao.com\//i,x=/www.rosebeauty.com.cn\//i,L=/www.hmeili.com\//i,T=/www.yueji.com\//i,C=/www.yougou.com\//i,S=/cn.shopbop.com\//i,I=/item.jd.com\//i,P=/[www|shop].mogujie.com(.*)\/detail/i;return e.test(t)||o.test(t)||r.test(t)||a.test(t)||i.test(t)||n.test(t)||c.test(t)||s.test(t)||u.test(t)||l.test(t)||d.test(t)||m.test(t)||w.test(t)||_.test(t)||b.test(t)||h.test(t)||p.test(t)||v.test(t)||g.test(t)||y.test(t)||f.test(t)||G.test(t)||O.test(t)||U.test(t)||k.test(t)||j.test(t)||x.test(t)||L.test(t)||T.test(t)||C.test(t)||M.test(t)||S.test(t)||I.test(t)||P.test(t)},MOGU.Globe_Input_Text=function(e,o){o=o||e.val(),e.focus(function(){var e=t(this);t.trim(e.val())==o&&e.val(""),e.css("color","#000")}),e.blur(function(){var e=t(this);""==t.trim(e.val())&&(e.val(o),e.css("color","#ccc"))})},MOGU.Globe_Input_Text_Hide=function(e){e.focus(function(){var e=t(this);t.trim(e.val())==t.trim(e.attr("def-v"))&&e.val(""),e.css("color","#000")}),e.blur(function(){var e=t(this);""==t.trim(e.val())&&(e.val(e.attr("def-v")),e.css("color","#ccc"))})},MOGU.WB_Word_Count=function(e,o,i){var n=i?i:140;if(t("#"+e)[0]){var a=function(){var i=0;i=o?MGTOOL.getMsgLength(t("#"+o).val()):MGTOOL.getMsgLength(t("#"+e).find(".pub_txt").val());var a=n-i;0==i?t("#"+e).find(".word_count").html(n):i>n?(t("#"+e).find(".word_count_wrap").html('\u60a8\u5df2\u8d85\u8fc7<em class="word_count"></em>\u4e2a\u5b57').find(".word_count").html(Math.abs(a)),t("#"+e).find(".word_count_wrap").show(),t("#"+e).find(".word_count").addClass("out")):(t("#"+e).find(".word_count_wrap").html('\u8fd8\u53ef\u4ee5\u8f93\u5165<em class="word_count"></em>\u4e2a\u5b57').find(".word_count").html(a),t("#"+e).find(".word_count").removeClass("out"))};o?t("#"+o).bind("keyup",a).bind("input",a).bind("propertychange",a):t("#"+e).find(".pub_txt").bind("keyup",a).bind("input",a).bind("propertychange",a)}},MOGU.Globe_Range_Input=function(t){if(t[0].createTextRange){var e=t[0].createTextRange();e.moveEnd("character",t.val().length),e.moveStart("character",t.val().length),e.select()}else t[0].setSelectionRange(t.val().length,t.val().length),t.focus()},MOGU.Globe_Check_Login=function(){return""==MOGUPROFILE.userid?(MOGU.user_handsome_login_init(),MOGU.user_handsome_login(),!1):!0},MOGU.Globe_Short_Link_From=function(){t(".mg_slink").live("click",function(){var e=window.location.toString();if(!(e.indexOf("is_qzone=1")>=0)){var o=this,i=o.href,n=t(o).attr("s"),a=t(o).attr("c");""==a&&(a=MOGUPROFILE.userid);var c=i,r="";r=-1==i.indexOf("?")?"?c="+a+"&s="+n:"&c="+a+"&s="+n,c+=r,o.href=c,setTimeout(function(){o.href=i},500)}})},MOGU.Globe_Short_Link_From(),MOGU.Globe_Bind_Keybord_Submit=function(e,o,i){i=i||"need_focus","need_focus"==i&&(e.focus(function(){t("body").unbind("keydown"),t("body").bind("keydown",function(t){t.ctrlKey&&13==t.keyCode&&o.click()})}),e.blur(function(){t("body").unbind("keydown")})),"not_need_focus"==i&&t(document).bind("keydown",function(e){e.ctrlKey&&13==e.keyCode&&(o.click(),t("body").unbind("keydown"))})},MOGU.GLobe_GetObj_Length=function(t){var e,o=0;for(e in t)t.hasOwnProperty(e)&&o++;return o},MOGU.Empty_Message_Tip=function(t){var e=t?t:{},o=e.pub_obj,i=null,n=0;i=setInterval(function(){n++,6==n?(clearInterval(i),o.focus()):n%2==0?o.addClass("empty_tip"):o.removeClass("empty_tip")},120)},MOGU.Defult_Post_data=function(e){if(e instanceof jQuery||(e=t(e)),e.hasClass("disable"))return!1;e.addClass("disable");var o=e.data(),i=o.url||"";if(""!==i){var n=function(t){1001===t.status.code?window.location.reload():alert(t.status.msg)};jQuery.ajax({url:i,type:"POST",dataType:"json",data:o,complete:function(){e.removeClass("disable")},success:function(t){n(t)}})}},MOGU.Globe_Trace_Log=function(t){},t.fn.serializeObject=function(){var e={},o=this.serializeArray();return t.each(o,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},MOGU.SerializeFormObject=function(t){t.serializeObject()}}(jQuery),$(function(){$(document).off("click",".__trace__").on("click",".__trace__",function(t){var e=$(this).attr("data-trace");e&&MOGU.Globe_Trace_Log(e)})}),function(){for(var t,e=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=o.length,n=window.console=window.console||{};i--;)t=o[i],n[t]||(n[t]=e)}();!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pc/common/im/index",[],e):"object"==typeof exports?exports["pc/common/im/index"]=e():t["pc/common/im/index"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i={},a=function(t,e){return $.ajax({url:"//webim.mogujie.com/jsonp/getshopowner/1",data:{shopId:t},type:"GET",dataType:"jsonp",jsonp:"callback",success:e})},r=function(t,e,n,i){o(t,e,n,i);var a=window.$?window.$("#J-imContainer"):document.getElementById("J-imContainer");a.show(),a.contents().focus()},d=function(t,e,n,o,d){var c=/com\/detail\/(1[a-z0-9]+)/,u=decodeURIComponent(location.href).match(c);return u&&u[1]&&(n=u[1]),!t&&e?i[e]?(t=i[e],void r(t,n,o,d)):void a(e,function(o){o.success&&o.data&&(t=o.data.userId,i[e]=t,r(t,n))}):void r(t,n,o,d)},c=function(t,e,n,o,i){var a=window.M||{},r=window.MoGu||{},c=window.MOGU||null;if(a.getUserInfo)a.getUserInfo().then(function(o){d(t,e,n)})["catch"](function(){location.href="https://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(location.href)});else if(!r.data||!r.data.userData||!r.data.userData.uid)return c&&c.user_handsome_login_init?(c.user_handsome_login_init(),void c.user_handsome_login(!1,{callback:function(){location.reload()}})):void(location.href="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(location.href));d(t,e,n,o,i)};$(document).ready(function(){$(".mogutalk_widget_btn").each(function(){var t=$(this).data("style")||"default";t&&$(this).addClass("mogutalk_"+t)})}),$(document).on("click",".mogutalk_widget_btn, .mogutalk_btn",function(t){t.preventDefault();var e=t.currentTarget,n=$(e).data("uid")||"",o=$(e).data("bid")||$(e).data("shopid")||"",i=$(e).data("tid")||$(e).data("gid")||"",a=$(e).data("frompage")||"",r=$(e).data("allocatetype")||"";o&&(o=o.replace(/#\d*$/,"")),c(n,o,i,a,r)}),window._openIm=c,t.exports=c},function(t,e,n){"use strict";n(2);var o=null,i={getPos:function(){var t=void 0;return o?o:window.localStorage&&(t=window.localStorage.getItem("IM_POSITION"))?JSON.parse(t):{x:$(window).width()-590,y:$(window).height()-440}},setPos:function(t,e){return o={x:t,y:e},window.localStorage&&window.localStorage.setItem("IM_POSITION",JSON.stringify(o)),!0}};t.exports=function(t,e,n,o){var a="http://webim.mogujie.com/pc";if(!$("#J-imContainer").length){var r="left:"+i.getPos().x+"px; top:"+i.getPos().y+"px",d='<div id="J-imContainer" class="im-frame-container" style="'+r+'">\n        <div id="J-closeImFrameBtn" class="im-frame-btn"></div>\n        <div id="J-dragImHandle" class="im-frame-drag"></div>\n        <iframe id="J-openImFrame" class="im-frame-box" frameborder="no" allowtransparency="true">\n        </iframe>\n      </div>';$("body").append(d),$("#J-closeImFrameBtn").on("click",function(){$("#J-imContainer").hide()}),$("#J-imContainer").drag({midX:40,midY:40,handler:"#J-dragImHandle",resize:function(t){i.setPos(t.x,t.y)},dragEnd:function(t){i.setPos(t.x,t.y)}})}var c=$.param({userId:t,goodsId:e,fromPage:n,allocatetype:o});$("#J-openImFrame").attr("src",a+"#"+c)}},function(t,e){"use strict";var n=!!("ontouchstart"in document.documentElement),o={start:"touchstart",move:"touchmove",end:"touchend"},i={start:"mousedown",move:"mousemove",end:"mouseup"},a=n?o:i;$.fn.drag=function(t){function e(){return h?(x.off(a.start,h),this):this}function o(){u=v.maxX>0?v.maxX:$(window).width(),s=v.maxY>0?v.maxY:$(window).height(),u=u-i("width")-v.midX,s=s-i("height")-v.midY,m=v.midX,l=v.midY}function i(t,e){return e?void p.css(t,e):parseFloat(p.css(t))}function r(){g.x=i("left"),g.y=i("top")}function d(t,e){u&&(m>t?t=m:t>=m&&t>u&&(t=u)),s&&(l>e?e=l:e>=l&&e>s&&(e=s)),"x"===v.axis?i("left",t+"px"):"y"===v.axis?i("top",e+"px"):(i("left",t+"px"),i("top",e+"px")),r()}function c(){function t(t){function e(e){var o,i,a,c;n?1===t.touches.length&&(o=e.touches[0].clientX-t.touches[0].clientX,i=e.touches[0].clientY-t.touches[0].clientY):(o=e.clientX-t.clientX,i=e.clientY-t.clientY),a=u+o,c=s+i,d(a,c),r(e)}function o(){"function"==typeof v.dragEnd&&v.dragEnd.call(this,g),c()}function r(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)}function c(){$(document).off(a.move,e),$(document).off(a.end,o),$(document).off("selectstart",r),x.off("dragstart",r)}var u=i("left")||0,s=i("top")||0;document.body.focus(),$(document).on("selectstart",r),x.on("dragstart",r),$(document).on(a.move,e),$(document).on(a.end,o)}e(),o(),"function"==typeof v.dragStart&&v.dragStart.call(this,g),x.on(a.start,t)}var u,s,m,l,f,p=$(this),h=null,g={},w={midX:0,midY:0,axis:"both",handler:null},v=$.extend({},w,t),x=v.handler;"string"==typeof x?x=p.find(x):x||(x=p),$(window).resize(function(){var t=this;f&&window.clearTimeout(f),f=setTimeout(function(){o(),d(g.x,g.y),"function"==typeof v.resize&&v.resize.call(t,g)},300)}),c()}}])}),"function"==typeof define&&define.amd&&require(["pc/common/im/index"]);function Target(e,t,n){var s="";if(arguments.length<2?s="target error - target and name are both required":"object"!=typeof e?s="target error - target itself must be window object":"string"!=typeof t&&(s="target error - target name must be string type"),s)throw new Error(s);this.target=e,this.name=t,this.prefix=n}function Messenger(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||prefix,this.initListen()}var prefix="[PROJECT_NAME]",supportPostMessage="postMessage"in window;supportPostMessage?Target.prototype.send=function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:Target.prototype.send=function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},Messenger.prototype.addTarget=function(e,t){var n=new Target(e,t,this.prefix);this.targets[t]=n},Messenger.prototype.initListen=function(){var e=this,t=function(t){if("object"==typeof t&&(t=t.data),!("string"!=typeof t||t.indexOf("Messenger")<0))for(var n=t.split("__Messenger__"),t=n[1],s=n[0].split("|"),r=s[0],i=s[1],a=0;a<e.listenFunc.length;a++)r+i===e.prefix+e.name&&e.listenFunc[a](t)};supportPostMessage?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[this.prefix+this.name]=t},Messenger.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,s=!1;n>t;t++)if(this.listenFunc[t]==e){s=!0;break}s||this.listenFunc.push(e)},Messenger.prototype.clear=function(){this.listenFunc=[]},Messenger.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)};var messenger;window.parent!==window.self?(messenger=new Messenger("im","ImFrame"),messenger.addTarget(window.parent,"Parent")):messenger=new Messenger("Parent","ImFrame");var newcinfo=function(e,t,n){if(n){var s=this;return this.url=window.location.protocol+"//webim.mogujie.com/jsonp/cinfo/1",this.IDLE=!0,this.trigger=function(e,s){n(t).trigger(e,s)},this.getData=function(e){if(s.IDLE){s.IDLE=!1;var t=0;n.ajax({url:s.url,data:e||{},dataType:"jsonp",timeout:9e3,success:function(e){e&&e.success&&e.data>0&&(t=e.data)},complete:function(){s.IDLE=!0,s.trigger("hasUnread",t)}})}},messenger.listen(function(e){try{switch(e=JSON.parse(e),e.code){case 1007:break;case 1008:s.getData()}}catch(t){}}),{refresh:function(e){var t=window.M||{},n=window.MoGu||{};t.getUserInfo?t.getUserInfo().then(function(){s.getData(e)})["catch"](function(){}):n.data&&n.data.userData&&n.data.userData.uid&&s.getData(e)}}}}(window,document,jQuery);!function(t){MOGU.imgCodeCheck=function(){var a=!1,i=t(".img_code_spin");if(0==i.length)return a=!0;for(var c=0;c<i.length;c++){var e=t(i[c]);if(0!=e.val()){a=!0;break}}return a},MOGU.imgCaptchaInit=function(){var a=t(".imgcheck_image_div"),i=t("#imgcheck_code_change"),c=function(t,a){var i=-75*((a+1)%4),c=t[0].style.backgroundPosition.split(" ");t[0].style.backgroundPosition=c[0]+" "+i+"px"};a.click(function(){var a=t(this).attr("f"),i=t("#img_code_spin_"+a),e=parseInt(i.val());c(t(this),e),i.val(e+1)}),i.click(function(){MOGU.imgCaptchaRecaptcha()})},MOGU.imgCaptchaRecaptcha=function(a){var i=function(a){for(var i=t(".imgcheck_image_div"),c=i.length,e=0;c>e;e++){var n=i[e],o=n.getAttribute("f"),r=t("#img_code_spin_"+o);r.val(0);var u=t(n);u.css("background-image","url(/captchaimg/"+a+")"),u.css({"background-position":-75*e+"px 0"})}};void 0===a?t.ajax({url:"/reimgcaptcha",type:"POST",timeout:6e4,data:{},dataType:"json",cache:!1,success:function(t){var a=t.status.code;t.status.msg;if(1001==a){var c=t.result.data.captchaId;i(c)}},error:function(t,a,i){"timeout"==a&&alert(MGLANG.msgTimeout)}}):setTimeout(function(){i(a)},1)},MOGU.imgCaptchaInit()}(jQuery);!function(o){function t(e){if(a[e])return a[e].exports;var n=a[e]={exports:{},id:e,loaded:!1};return o[e].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=o,t.c=a,t.p="",t(0)}([function(o,t,a){a(1);var e=a(3),n=a(4);a(6);a(7);var i=window.M||{},s={$elem:$(".J_sitenav"),init:function(){this.initCompatibleFunctions(),this.renderNav(),this.initIM(),n.init()},initCompatibleFunctions:function(){if(window.MoGu){var o=window.MoGu||{};o.fn=o.fn||{},$.extend(o.fn,{getUserData:function(o){i.getUserInfo().then(function(t){o(null,t)})["catch"](function(t){o(t)})}})}},renderNav:function(){var o=this;i&&i.getUserInfo&&i.getUserInfo().then(function(t){o.$elem.html(e(t)),window.newcinfo&&window.newcinfo.refresh(),n.renderNavCartListNum()})["catch"](function(){o.$elem.html(e({}))})},initIM:function(){var o=this;$(document).on("hasUnread",function(t,a){var e=o.$elem.find(".mogutalk_btn");e.length&&(a>0?e.find(".num").show():e.find(".num").hide())})}};o.exports=s.init()},function(o,t,a){function e(o){return l=new Promise(function(t){var a=f.http.jsonp,e=o;a?a(e,{jsonpCallback:"jsonp_cartListNum_"+(new Date).getTime(),tokenDomain:c}).then(function(o){o&&o.success?(o.data&&o.data.count>0&&window.localStorage&&window.localStorage.setItem("___cached_cart_list_num",o.data.count),r=o):r={},s=!1,t(r)})["catch"](function(){s=!1,r={},t(r)}):(s=!1,r={},t(r))})}function n(){var o=0,t={};if(window.localStorage){var a=window.localStorage.getItem("___cached_cart_list_num");a&&a>0&&(o=a)}return t={result:{count:o},status:{message:"",isLogin:!0,code:1001,msg:""}}}function i(o,t){return f.pc.common.checkDegradation().then(function(a){return a.degradation?Promise.resolve(n()):s?l:!r||t?(s=!0,e(o)):(r._sync=!1,Promise.resolve(r))})}a(2);var s=!1,l=void 0,r=void 0,c="cart.mogujie.com",f=window.M||{};f.pc=f.pc||{},f.pc.common=f.pc.common||{},f.pc.common.getCartListNum=f.pc.common.getCartListNum||i,o.exports=i},function(o,t){function a(){return i=new Promise(function(o){var t=location.protocol||"http:",a=r.http.jsonp,e=t+"//mce.mogucdn.com/jsonp/multiget/3";a?a(e,{data:{pids:l},jsonpCallback:"jsonp"+l}).then(function(t){s="SUCCESS"===t.returnCode&&t.data[l]&&t.data[l].list&&t.data[l].list.length&&"true"==t.data[l].list[0].degradation?{degradation:!0}:{degradation:!1},n=!1,o(s)})["catch"](function(){n=!1,s={degradation:!0},o(s)}):(n=!1,s={degradation:!0},o(s))})}function e(o){return n?i:!s||o?(n=!0,a()):(s._sync=!1,Promise.resolve(s))}var n=!1,i=void 0,s=void 0,l=23784,r=window.M||{};r.pc=r.pc||{},r.pc.common=r.pc.common||{},r.pc.common.checkDegradation=r.pc.common.checkDegradation||e,o.exports=e},function(o,t){o.exports=function(o){var t='<div class="wrap"> <a href="http://www.mogujie.com" rel="nofollow" class="home fl">\u8611\u83c7\u8857\u9996\u9875</a> <ul class="header-top"> ';return o.name?(t+=' <li class="s1 has-icon user-meta"> <a rel="nofollow" href="javascript:;"> '+o.name+' </a> <a rel="nofollow" href="http://pc.mogujie.com/member/member.html" target="_blank"> ',o.userLevel&&(t+=' <span class="level level '+(o.userLevel-1)+' ">&nbsp;</span> '),t+=' </a> <i class="icon-delta"></i> <ol class="ext-mode" id="menu-personal"> <li class="s2"> <a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/personal">\u4e2a\u4eba\u8bbe\u7f6e</a> </li> <li class="s2"> <a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/bind">\u8d26\u53f7\u7ed1\u5b9a</a> </li> <li class="s2"> <a rel="nofollow" href="//www.mogujie.com/logout">\u9000\u51fa</a> </li> </ol> </li> <li class="s1 has-line message-center"> <a rel="nofollow" href="javascript:;" class="ext-module mogutalk_btn J_msg open_msg micon" data-from="shopwidget_message" data-trace="global,shopwidget_message,click">\u6d88\u606f<span class="num m_num"></span> </a> </li> <li class="s1 has-icon has-line user-fav"> <a rel="nofollow" href="javascript:;">\u6211\u7684\u6536\u85cf</a> <i class="icon-delta"></i> <ul class="ext-mode"> <li class="s2"> <a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/goodsfavs">\u6536\u85cf\u7684\u5546\u54c1</a> </li> <li class="s2"> <a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/shopfavs">\u6536\u85cf\u7684\u5c0f\u5e97</a> </li> <li class="s2"> <a target="_blank" rel="nofollow" href="http://track.mogujie.com">\u6d4f\u89c8\u8db3\u8ff9</a> </li> </ul> </li> '):t+=' <li class="s1 show-nologin"> <a rel="nofollow" href="http://portal.mogujie.com/user/login">\u767b\u5f55</a> </li> ',t+=' <li class="s1 myorder has-line"> <a href="http://order.mogujie.com/order/list4buyer" target="_blank" class="text display_u" rel="nofollow">\u6211\u7684\u8ba2\u5355</a> </li> <li class="s1 has-line shopping-cart-v2"> <a class="cart-info-wrap" href="http://cart.mogujie.com/cart/mycart" target="_blank" rel="nofollow"> <span class="cart-info">\u8d2d\u7269\u8f66</span> </a> <i class="icon-delta"></i> <span class="shopping-cart-loading"></span> </li> <li class="s1 has-line has-icon custom-item"> <a rel="nofollow" href="http://cs.mogujie.com/help/index.html" rel="nofollow" target="_blank">\u5ba2\u6237\u670d\u52a1</a> <i class="icon-delta"></i> <ol class="ext-mode"> <li class="s2"><a target="_blank" rel="nofollow" href="http://cs.mogujie.com/help/index.html">\u6d88\u8d39\u8005\u670d\u52a1</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://service.xiaodian.com">\u5546\u5bb6\u670d\u52a1</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://cs.mogujie.com/rule/index.html">\u89c4\u5219\u4e2d\u5fc3</a></li> </ol> </li> <li class="s1 has-line has-icon myxiaodian"> <a href="http://www.xiaodian.com" rel="nofollow" target="_blank" class="text display_u">\u6211\u7684\u5c0f\u5e97</a> <i class="icon-delta"></i> <ol class="ext-mode"> <li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/shopadmin/shopface">\u7ba1\u7406\u540e\u53f0</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://bbs.xiaodian.com">\u5546\u5bb6\u793e\u533a</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://peixun.xiaodian.com">\u5546\u5bb6\u57f9\u8bad</a></li> <li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/joinmarket">\u5e02\u573a\u5165\u9a7b</a></li> </ol> </li> </ul></div>'}},function(o,t,a){var e=a(5),n=a(6),i=window.M||{},s={},l=!1,r="cart.mogujie.com";s.Model={goodsList:"",offlineCartCookies:"",offlineCartCookiesOld:"",goodsNum:0,getGoodsList:function(o){var t=this;if(t.goodsList)return void($.isFunction(o)&&o(this.goodsList));var a=[];if(i&&i.fn&&i.fn.getCookie("trade_cart_mogujie")?t.offlineCartCookies=i.fn.getCookie("trade_cart_mogujie"):i&&i.fn&&i.fn.getCookie("mogu_trade_cart")&&(t.offlineCartCookiesOld=i.fn.getCookie("mogu_trade_cart")),t.offlineCartCookies){var e=JSON.parse(t.offlineCartCookies);for(var s in e){var l={};l.stockId=s;for(var c in e[s])l[c]=e[s][c];a.push(l)}}if(t.offlineCartCookiesOld)for(var e=t.offlineCartCookiesOld.split(","),l={},c=0;c<e.length;c++)if(e[c].indexOf("#")>-1){var f=e[c].split("#");l.number=f[0],l.lastAddCartTime=f[1],a.push(l),l={}}else l.stockId=n(e[c]);var d={marketType:"market_mogujie",topNum:5,offlineCartItems:JSON.stringify(a)};i.http.jsonp("//cart.mogujie.com/jsonp/costaMinicartList/1",{data:d,tokenDomain:r}).then(function(a){1==a.success&&a.data?(t.goodsList=a.data.cartItems?a.data.cartItems:[],t.goodsNum=a.data.totalItemNum||0,$.isFunction(o)&&o(t.goodsList)):$.isFunction(o)&&o([])})["catch"](function(){$.isFunction(o)&&o([])})},delCookie:function(o){var t={};if(this.offlineCartCookies){var a=JSON.parse(this.offlineCartCookies);for(var e in a)e!=o&&(t[e]=a[e]);i&&i.fn&&i.fn.setCookie&&i.fn.setCookie("trade_cart_mogujie",JSON.stringify(t),{expires:15,path:"/",domain:".mogujie.com"})}},delGood:function(o,t){var a=this;i.http.jsonp("//cart.mogujie.com/jsonp/costaDeleteCart/1",{data:{marketType:"market_mogujie",stockId:o},tokenDomain:r}).then(function(e){1==e.success&&(l=e.success,l||a.delCookie(o),$.isFunction(t)&&t())})["catch"](function(){})}},s.View={wrap:$(".J_sitenav"),init:function(){this.wrap.length&&(this.extendInfo=null,this.loading=this.wrap.find(".shopping-cart-loading"),this.maxShowNum=5,this.addEvent())},renderNavCartListNum:function(){var o=this,t=o.wrap.find(".shopping-cart-v2");if(t.length){var a=t.find(".cart-info-wrap");i.pc.common.getCartListNum("//cart.mogujie.com/jsonp/costaCartItemCount/1?marketType=market_mogujie").then(function(o){if(o&&o.data&&o.data.count>0){var t=o.data.count>99?"99+":o.data.count,e='<span class="cart-info">\u8d2d\u7269\u8f66<b class="num">'+t+"</b>\u4ef6</span>";a.html(e).show()}else a.html('<span class="cart_info">\u8d2d\u7269\u8f66</span>')})["catch"](function(){a.html('<span class="cart_info">\u8d2d\u7269\u8f66</span>')})}},addEvent:function(){var o=this;o.wrap.off("mouseenter").on("mouseenter",".shopping-cart-v2",function(){var t=$(this);t.addClass("sc-on"),o.loading.show(),o.extendInfo&&o.extendInfo.length?(o.loading.hide(),o.extendInfo.show()):s.Model.getGoodsList(function(a){var n={list:a,topNum:o.maxShowNum,total:s.Model.goodsNum},i="";a.length?(i=e(n),o.extendInfo=$(i)):(i='<div class="shop-cart-info"></div>',o.extendInfo=$(i),o.extendInfo.addClass("empty-cart").text("\u8d2d\u7269\u8f66\u91cc\u6ca1\u6709\u5546\u54c1\uff01")),t.append(o.extendInfo),o.loading.hide(),o.extendInfo.show()})}),o.wrap.off("mouseleave").on("mouseleave",".shopping-cart-v2",function(){o.extendInfo&&o.extendInfo.hide()&&$(this).removeClass("sc-on")}),o.wrap.off("click").on("click",".shopping-cart-v2 .del",function(){var t=$(this),a=t.data("stockid"),e=t.parent(),n=s.Model.goodsNum;t.hasClass("disabled")||(t.addClass("disabled"),s.Model.delGood(a,function(){n--,e.fadeOut("slow",function(){t.removeClass("disabled"),n?(e.remove(),s.Model.goodsNum=n):(o.extendInfo=$(".shop-cart-info"),o.extendInfo.addClass("empty-cart").text("\u8d2d\u7269\u8f66\u91cc\u6ca1\u6709\u5546\u54c1\uff01"))})}))})}},o.exports=s.View},function(o,t){o.exports=function(o){var t='<div class="shop-cart-info" style="display: none;"> <ul class="max_height_ie6"> ',a=o.list;if(a)for(var e,n=-1,i=a.length-1;i>n;){if(e=a[n+=1],t+=" ",n<o.topNum){if(t+=' <li> <a rel="nofollow" href="http://shop.mogujie.com/detail/'+e.itemIdEsc+'" target="_blank" class="imgbox"> ',e.imgUrl&&(t+=' <img src="'+e.imgUrl+'_48x48.jpg" alt="'+e.title+'" width="45"> '),t+=' </a> <a rel="nofollow" href="http://shop.mogujie.com/detail/'+e.itemIdEsc+'" target="_blank" class="title">'+e.title+"</a> ",e.skuAttributes){t+=' <span class="info">';var s=e.skuAttributes;if(s)for(var l,r=-1,c=s.length-1;c>r;)l=s[r+=1],t+=""+l.key+": "+l.value+"  ";t+="</span> "}t+=' <span class="price">\xa5'+e.nowprice/100+'</span> <span data-stockid="'+e.stockIdEsc+'" class="del">\u5220\u9664</span> </li> '}t+=" "}return t+=' </ul> <div class="subbox"> ',o.total-o.topNum>0&&(t+=' <p class="sub_info">\u8d2d\u7269\u8f66\u91cc\u8fd8\u6709<b class="num">'+(o.total-o.topNum)+"</b>\u4ef6\u5546\u54c1</p> "),t+=' <div class="fr"> <a rel="nofollow" href="http://cart.mogujie.com/cart/mycart" target="_blank" class="goel">\u67e5\u770b\u8d2d\u7269\u8f66</a> </div> </div></div>'}},function(o,t){function a(o,t,a){return parseInt(o+"",0|t).toString(0|a)}var e=function(o,t){var e="",n=t||1;if(o=""+o,24==o.length)return o;switch(n){case 1:e=n+a(2*o+56,10,36);break;default:e=!1}return e};o.exports=e},function(o,t){}]);!function(o){function t(e){if(n[e])return n[e].exports;var i=n[e]={exports:{},id:e,loaded:!1};return o[e].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=o,t.c=n,t.p="",t(0)}([function(o,t,n){n(1),n(3),n(4);var e=n(6),i=window.M||{},a=1260,r=$(".J_sidebar"),c={$elem:r,init:function(){var o=this;this.renderSidebar().then(function(){o.$goTop=r.find(".mgj-back2top"),o.$sidebarCart=r.find(".mgj-my-cart"),o.$goTop.length&&(o.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap").length?$("#body_wrap"):$("body"),o.offsetEl.length&&(o.win=$(window),o.addEvent()))})},addEvent:function(){var o=this;o.setSidebarPos(),this.win.on("resize",function(){o.setSidebarPos()}),this.$sidebarCart.off().on("mouseenter",function(){o.win.width()>a||o.showSidebar()}),this.$elem.off().on("mouseleave",function(){o.win.width()>a||o.hideSidebar()}),this.win.on("scroll",function(){$(this).scrollTop()?o.$goTop.addClass("show"):o.$goTop.removeClass("show")}),this.$goTop.on("click",function(){return o.win.scrollTop(0),!1})},setSidebarPos:function(){var o=this.win.width();a>o?this.hideSidebar():this.showSidebar()},showSidebar:function(){this.$sidebarCart.stop().animate({left:"0"}),this.$goTop.stop().animate({left:"0"}),this.$elem.removeClass("mini").stop().animate({right:"0"})},hideSidebar:function(){this.$sidebarCart.stop().animate({left:"-30px"}),this.$goTop.stop().animate({left:"-30px"}),this.$elem.addClass("mini").stop().animate({right:"-30px"})},renderSidebar:function(){var o=this;return i&&i.getUserInfo?i.getUserInfo(!0,"//portal.mogujie.com/api/profile/baseinfo").then(function(t){o.$elem.html(e(t));var n=o.$elem.find(".mgj-my-cart");if(n.length){var a=n.find(".num");i.pc.common.getCartListNum("//cart.mogujie.com/jsonp/costaCartItemCount/1?marketType=market_mogujie").then(function(o){o&&o.data&&o.data.count>0?a.html(o.data.count>99?"99+":o.data.count).show():a.hide()})["catch"](function(){a.hide()});var r=o.$elem.find(".mgj-my-coupon");if(r.length){var c=r.find(".num");i.pc.common.getCouponNum("//promotion.mogujie.com/jsonp/getUnUsedCouponNumber/1?domain=8").then(function(o){if(o&&o.data&&o.data.number>0){var t=o.data.number,n=parseInt(t,10);n?c.html(n>99?"99+":n).show():c.hide()}else c.hide()})["catch"](function(){c.hide()})}}})["catch"](function(){o.$elem.html(e({}))}):Promise.resolve()}};o.exports=c.init()},function(o,t,n){function e(o){return c=new Promise(function(t){var n=m.http.jsonp,e=o;n?n(e,{jsonpCallback:"jsonp_cartListNum_"+(new Date).getTime(),tokenDomain:d}).then(function(o){o&&o.success?(o.data&&o.data.count>0&&window.localStorage&&window.localStorage.setItem("___cached_cart_list_num",o.data.count),s=o):s={},r=!1,t(s)})["catch"](function(){r=!1,s={},t(s)}):(r=!1,s={},t(s))})}function i(){var o=0,t={};if(window.localStorage){var n=window.localStorage.getItem("___cached_cart_list_num");n&&n>0&&(o=n)}return t={result:{count:o},status:{message:"",isLogin:!0,code:1001,msg:""}}}function a(o,t){return m.pc.common.checkDegradation().then(function(n){return n.degradation?Promise.resolve(i()):r?c:!s||t?(r=!0,e(o)):(s._sync=!1,Promise.resolve(s))})}n(2);var r=!1,c=void 0,s=void 0,d="cart.mogujie.com",m=window.M||{};m.pc=m.pc||{},m.pc.common=m.pc.common||{},m.pc.common.getCartListNum=m.pc.common.getCartListNum||a,o.exports=a},function(o,t){function n(){return a=new Promise(function(o){var t=location.protocol||"http:",n=s.http.jsonp,e=t+"//mce.mogucdn.com/jsonp/multiget/3";n?n(e,{data:{pids:c},jsonpCallback:"jsonp"+c}).then(function(t){r="SUCCESS"===t.returnCode&&t.data[c]&&t.data[c].list&&t.data[c].list.length&&"true"==t.data[c].list[0].degradation?{degradation:!0}:{degradation:!1},i=!1,o(r)})["catch"](function(){i=!1,r={degradation:!0},o(r)}):(i=!1,r={degradation:!0},o(r))})}function e(o){return i?a:!r||o?(i=!0,n()):(r._sync=!1,Promise.resolve(r))}var i=!1,a=void 0,r=void 0,c=23784,s=window.M||{};s.pc=s.pc||{},s.pc.common=s.pc.common||{},s.pc.common.checkDegradation=s.pc.common.checkDegradation||e,o.exports=e},function(o,t,n){function e(o){return c=new Promise(function(t){var n=d.http.jsonp,e=o;n?n(e,{jsonpCallback:"jsonp_couponNum_"+(new Date).getTime()}).then(function(o){o&&o.success&&"SUCCESS"==o.returnCode?(o.data&&o.data.number>0&&window.localStorage&&window.localStorage.setItem("___cached_coupon_num",o.data.number),s=o):s={},r=!1,t(s)})["catch"](function(){r=!1,s={},t(s)}):(r=!1,s={},t(s))})}function i(){var o=0,t={};if(window.localStorage){var n=window.localStorage.getItem("___cached_coupon_num");n&&n>0&&(o=n)}return t={data:{number:o},returnCode:"SUCCESS",success:!0}}function a(o,t){return d.pc.common.checkDegradation().then(function(n){return n.degradation?Promise.resolve(i()):r?c:!s||t?(r=!0,e(o)):(s._sync=!1,Promise.resolve(s))})}n(2);var r=!1,c=void 0,s=void 0,d=window.M||{};d.pc=d.pc||{},d.pc.common=d.pc.common||{},d.pc.common.getCouponNum=d.pc.common.getCouponNum||a,o.exports=a},function(o,t){},,function(o,t){o.exports=function(o){var t='<!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f--><div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div><!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adediv--><div id="mgj_rightbar_blank_div"></div><!--\u7528\u6237\u5934\u50cf-->';return o.avatar&&(t+='<div class="sidebar-item mgj-my-avatar"> <a target="_blank" href="http://www.mogujie.com/member" rel="nofollow"> <div class="img"> <img width="20" height="20" src="'+o.avatar+'_48x48.jpg" alt=""> </div> </a></div>'),t+='<!--\u8d2d\u7269\u8f66--><div class="sidebar-item mgj-my-cart"> <a target="_blank" href="http://cart.mogujie.com/cart/mycart" rel="nofollow"> <i class="s-icon"></i> <div class="s-txt">\u8d2d\u7269\u8f66</div> <div class="num"></div> </a></div><!--\u4f18\u60e0\u5238--><div class="sidebar-item mgj-my-coupon"> <a target="_blank" rel="nofollow" href="http://promotion.mogujie.com/trade/promotion/user/shopcoupon"> <i class="s-icon"></i> <div class="s-txt">\u4f18\u60e0\u5238</div> <div class="num"></div> </a></div><!--\u94b1\u5305--><div class="sidebar-item mgj-my-wallet"> <a target="_blank" rel="nofollow" href="https://payuserp.mogujie.com/wallet/home"> <i class="s-icon"></i> <div class="s-txt">\u94b1\u5305</div> </a></div><!--\u8db3\u8ff9--><div class="sidebar-item mgj-my-browserlog"> <a target="_blank" rel="nofollow" href="http://www.mogujie.com/active/browserlog"> <i class="s-icon"></i> <div class="s-txt">\u8db3\u8ff9</div> </a></div><div class="sideBottom"> <!--\u56de\u5230\u9876\u90e8--> <div class="sidebar-item mgj-back2top"><a rel="nofollow" href="javascript:;"><i class="s-icon"></i></a></div></div>'}}]);!function(a){function e(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return a[t].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=a,e.c=i,e.p="",e(0)}([function(a,e,i){"use strict";function t(a){function e(a){if(R||A||M.pc.isTopSideNavOpen)o();else for(var e=0;e<S.length;e++){var i=S[e].topBarUrl,t=a.indexOf(i)>-1;if(t){o();break}}}function i(a){if(R||A||M.pc.isTopSideNavOpen)n();else for(var e=0;e<L.length;e++){var i=L[e].sideBarUrl,t=a.indexOf(i)>-1;if(t){n();break}}}var t=a.time.getTime()/1e3;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp6583_6584",data:{pids:"6583,6584,21943,21944"}}).then(function(a){a.success&&"SUCCESS"==a.returnCode&&a.data[6583].list.length>0&&a.data[6584].list.length>0&&a.data[21943].list.length>0&&a.data[21944].list.length>0&&(k=a.data[6583].list[0],C=a.data[6584].list[0],S=a.data[21943].list,L=a.data[21944].list,j="false"==k.openFlag,j&&(t=parseInt(P||0)),t>k.actOpenTime&&t<k.actCloseTime&&(x=!0,t>k.actSellTime&&(y=!0),e(U),i(U)))})}function n(){var a=r(C);$("#mgj_rightbar_blank_div").css("display","none"),f.prepend(a),f.css("z-index","10000"),function(a,e){function i(e,i,r,s){e[t](o+i,"wheel"==n?r:function(e){!e&&(e=a.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaY:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,r(i)},s||!1)}var t,n,o="";a.addEventListener?t="addEventListener":(t="attachEvent",o="on"),n="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",a.addWheelListener=function(a,e,t){i(a,n,e,t),"DOMMouseScroll"==n&&i(a,"MozMousePixelScroll",e,t)}}(window,document);var e={goTop:f.find(".mgj-back2top"),sidebar:f,sidebarCart:f.find(".mgj-my-cart"),eleBtn:$(".mgj_rightbar").find(".actnav_box"),eleBack:$(".mgj_actnav_box .ele_header_cont i"),eleBox:$(".mgj_actnav_box"),sidebarShow:!1,isLogin:!1,contentIds:"2603,2426,2421,2427,38726",redContentAdd:!1,fullReturnAdd:!1,shopCouponAdd:!1,redGoodsId:"",campaignId:"",goodShopId:"",mainUrl:"",redpayDetail:"",fullreturnDetail:"",userInfo:{uuid:"",avatar:""},init:function(){var a=this;a.goTop.length&&(a.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),a.offsetEl.length&&(a.win=$(window),a.setSidebarPos(),a.redGoodsId=k.goodsLikeId,a.campaignId=k.redKey,a.redpayDetail=k.redpayDetail,a.fullreturnDetail=k.fullreturnDetail,a.goodShopId=k.goodShopId,a.rulePageUrl=k.link,M.getUUID().then(function(e){a.userInfo.uuid=e}),a.getActContentMait(),M.getUserInfo().then(function(e){M.log(e),a.isLogin=!0,a.userInfo.avatar=e.avatar,a.addEvent()})["catch"](function(){a.isLogin=!1,a.addEvent()})))},getActContentMait:function(){var a=this;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp2603_2426_2421_2427_38726",data:{pids:a.contentIds}}).then(function(e){e.success&&"SUCCESS"==e.returnCode?($("#enterArea").html(s({data:e.data})),$(".shop-top-enter-area").html(d({data:e.data})),a.mainUrl=e.data[2426].list[0].link,$(".J_act_main_link").attr("href",a.mainUrl),$(".J_act_rule_link").attr("href",a.rulePageUrl)):$("#enterArea .ele_loading_text").show()})["catch"](function(){$("#enterArea .ele_loading_text").show()})},guessLike:function(){var a=this,e={pid:a.redGoodsId,pageSize:60,plat:"pc",uuid:a.userInfo.uuid};a.isLogin&&a.userInfo.uid&&(e.uidE=a.userInfo.uid),M.http.jsonp({url:z.guessLikeUrl,data:e}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data.list,i=[],t=[],n=[],o={isFormal:y,list:e},r=0;r<e.length;r++){var s=e[r].image;e[r].price=Math.floor(e[r].price),s.indexOf(".jpg")>0&&s.indexOf(".jpg_")<0&&(e[r].image+="_160x999.jpg")}$("#act_goods_like_box").html(l(o));for(var r=0;r<e.length;r++)i.push(e[r].item_id),t.push(r),n.push(e[r].acm);u._pushLog({eventid:70500,iids:i,indexs:t,acms:n},70500)}else $("#act_goods_like_box .ele_loading_text").show()})["catch"](function(){$("#act_goods_like_box .ele_loading_text").show()})},getRedContent:function(){function a(){if(i.redContentAdd)return!1;i.redContentAdd=!0;var a={isLogin:i.isLogin,mainUrl:i.mainUrl,hasRedpay:!1,price:0,link:""};i.isLogin?M.http.jsonp({url:z.redpayUrl,data:{campaignId:i.campaignId}}).then(function(e){if("SUCCESS"==e.returnCode){var t=e.data.num;+t?(a.hasRedpay=!0,a.price=(t/100).toFixed(2),a.link=i.redpayDetail):(a.hasRedpay=!1,a.price=0)}else 1004!=e.returnCode&&4004!=e.returnCode||(a.hasRedpay=!1);$("#redpayArea").html(c(a))}):$("#redpayArea").html(c(a))}function e(){if(i.fullReturnAdd)return!1;i.fullReturnAdd=!0;var a={price:0,isLogin:!1,hasFullReturn:!1,mainUrl:i.mainUrl,link:i.fullreturnDetail};M.http.jsonp({url:z.fullReturnUrl}).then(function(e){if("SUCCESS"==e.returnCode){var i=e.data.totalAmout;i>0?(a.isLogin=!0,a.hasFullReturn=!0,a.price=(i/100).toFixed(2)):(a.isLogin=!0,a.hasFullReturn=!1)}else 16e4==e.returnCode?(a.isLogin=!0,a.hasFullReturn=!1):"1002"==e.returnCode&&(a.isLogin=!1,a.hasFullReturn=!1);$("#fullReturnArea").html(h(a))})}var i=this,t=$(".redpay_pre_header"),n=$(".redpay_header");a(),y&&w&&(t.removeClass("show").addClass("hide"),n.removeClass("hide").addClass("show"),e()),i.guessLike()},getShopContent:function(){function a(){return i.shopCouponAdd?!1:(i.shopCouponAdd=!0,void M.http.jsonp({url:z.shopCouponUrl}).then(function(a){if(a&&1001==a.returnCode&&a.data&&a.data.couponList&&a.data.couponList.length>0){for(var e=a.data.couponList,i=[],t={isFormal:y,list:e,link:a.data.moreUrl},n=0;n<e.length;n++){var o=e[n].recommendItemCover,r=e[n].cutPrice,s=e[n].limitPrice;o.indexOf(".jpg")>0&&o.indexOf(".jpg_")<0&&(e[n].recommendItemCover+="_160x999.jpg"),e[n].cutPrice=r/100,e[n].limitPrice=s/100}$("#act-shop-coupon-box").html(v(t));for(var n=0;n<e.length;n++)i.push(n);u._pushLog({eventid:70500,indexs:i},70500)}else $("#act-shop-coupon-box .ele_body_loading").hide()})["catch"](function(){$("#act-shop-coupon-box .ele_body_loading").hide()}))}function e(){M.http.jsonp({url:z.goodShopUrl,data:{pid:i.goodShopId,uuid:i.userInfo.uuid}}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data,i=e.list,t=[],n=[],o=[],r={isFormal:y,list:i},s=0;s<i.length;s++){var d=i[s].list[0].image;d.indexOf(".jpg")>0&&d.indexOf(".jpg_")<0&&(i[s].list[0].image+="_160x999.jpg")}$("#act-good-shop-box").html(g(r));for(var s=0;s<i.length;s++)t.push(i[s].shop_id),n.push(s),o.push(i[s].acm);u._pushLog({eventid:70500,iids:t,indexs:n,acms:o},70500)}else $("#act-good-shop-box .ele_loading_text").show()})["catch"](function(){$("#act-good-shop-box .ele_loading_text").show()})}var i=this;a(),e()},addEvent:function(){var a=this,e=$("#showRuleBtn"),i=$("#showRuleFullReturnBtn"),t=$("#ruleArea"),n=$("#ruleFullReturnArea");if(this.win.on("resize",function(e){a.setSidebarPos()}),this.sidebarCart.off().on("mouseenter",function(){a.win.width()>b||a.sidebarShow||a.showSidebar()}),this.sidebar.off().on("mouseleave",function(){a.win.width()>b||a.sidebarShow||a.hideSidebar()}),this.eleBtn.on("click",".actnav_mainin",function(){$(this).hasClass("act_nav_tab_on")||a.changeSiderbarContent(1)}),this.eleBtn.on("click",".actnav_favor",function(){$(this).hasClass("act_nav_tab_on")||(a.changeSiderbarContent(0),a.guessLike())}),$("body").on("click",function(e){var i=$(e.target);i[0]!=f[0]&&0==f.find(i).length&&a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),a.eleBox.on("click",".ele_header_cont i",function(){a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),e.add(t).on("mouseenter",function(){t.addClass("show")}),e.add(t).on("mouseleave",function(){t.removeClass("show")}),i.add(n).on("mouseenter",function(){n.addClass("show")}),i.add(n).on("mouseleave",function(){n.removeClass("show")}),y){var o=$(".redpay_item"),r=$(".fullreturn_item"),s=$(".redpay-user-box"),d=$(".fullreturn-user-box"),l=$(".hover_line");o.on("click",function(){s.removeClass("hide").addClass("show"),d.removeClass("show").addClass("hide"),l.animate({left:"24px"})}),r.on("click",function(){s.removeClass("show").addClass("hide"),d.removeClass("hide").addClass("show"),l.animate({left:"136px"})})}addWheelListener(a.eleBox[0],function(e){var i=60;-1!=navigator.appVersion.indexOf("Mac")&&(i=10),0!=e.deltaY&&(a.eleBox[0].scrollTop+=e.deltaY>0?i:-i),e.preventDefault()}),a.isLogin||f.on("click","#goLogin",function(a){var e="//portal.mogujie.com/user/login?refer="+B;a.preventDefault(),window.location=e})},setSidebarPos:function(){var a=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());b>a?this.hideSidebar():this.showSidebar(),this.hideSidePanel()},showSidePanel:function(){this.sidebar.stop().animate({right:"270px"}),this.eleBox.stop().animate({right:"0px"}),this.sidebarShow=!0},hideSidePanel:function(){this.eleBox.stop().animate({right:"-270px"}),this.sidebarShow=!1,this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on")},changeSiderbarContent:function(a){this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on"),1==a?($(".body_enter").show().siblings().hide(),this.eleBtn.find(".actnav_mainin").addClass("act_nav_tab_on")):0==a&&($(".body_favor").show().siblings().hide(),this.eleBtn.find(".actnav_favor").addClass("act_nav_tab_on")),this.showSidePanel()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0px"}),this.goTop.stop().animate({left:"0px"}),this.sidebar.removeClass("mini").stop().animate({right:"0px"})},hideSidebar:function(){var a,e=-95,i=0;a=this.win.width()<b?e:i,this.sidebarCart.stop().animate({left:a}),this.goTop.stop().animate({left:a}),this.sidebar.addClass("mini").stop().animate({right:a})}};e.init()}function o(){var a=$('<div class="promotionTopBarContainer"></div>');$("#header").before(a),M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp22149_22450",data:{pids:"22149,22450"}}).then(function(e){if("SUCCESS"==e.returnCode&&e.success){var i=e.data[22149].list,t=e.data[22450].list[0];if(!(e&&e.data&&i.length>0&&t))return;a.css("backgroundColor",t.bg_nav_color);var n=!!$("body").hasClass("media_screen_1200"),o=p(i);a.html(o);var r=a.find(".innerwrap"),s=new Image,d="";if(n?(d=t.image_big,s.src=d):(d=t.image_small,s.src=d),s.complete)return r.css("background-image","url("+s.src+")"),void a.animate({"margin-top":"0"});s.onload=function(){r.css("background-image","url("+s.src+")"),a.animate({"margin-top":"0"})}}})}i(1);var r=i(3),s=i(4),d=i(5),l=i(6),c=i(7),v=i(8),g=i(9),h=i(10),p=i(11),u={};u._pushLog=function(a,e){setTimeout(function(){if(window.logger&&logger.log)try{logger.log(e,a)}catch(i){M.log(i)}else if(window.detePtp&&detePtp.logFromtSend){var t=window.detePtp._collectParams||{};a.ptp_cnt=t.ptp_cnt||"",a.ptp_url=t.ptp_url||"",a.ptp_ref=t.ptp_ref||"";try{detePtp.logFromtSend("e",e,a)}catch(i){M.log(i)}}},1e3)};var _=M.ua,m=_.ie67,b=1260,f=$(".mgj_rightbar"),x=!1,y=!1,j=0,w=0,k={},C={},S="",L="",U=location.href.split("?")[0],B=location.href,P=M.fn.getQueryString("_act_set_time",B),R=!1,I=$("#shopBaseUrlSec");I.length>0&&(R=location.host==I.val().split("/")[2]||"shop.mogujie.com"==location.host);var A="http://www.mogujie.com/"===U||"http://www.mogujie.com"===U||"http://www.mogujie.com/index"===U;M.pc.isTopSideNavOpen=!1;var z={maitUrl:"//mce.mogucdn.com/jsonp/multiget/3",redpayUrl:"//promotion.mogujie.com/jsonp/getRedPacket/1",fullReturnUrl:"//hongbao.mogujie.com/jsonp/hongbaoAmount/1",guessLikeUrl:"//mce.mogujie.com/jsonp/get/3",shopCouponUrl:"//www.mogujie.com/mbractivity/myshopcoupon.jsonp",goodShopUrl:"//mce.mogujie.com/jsonp/recommend/4"};P&&(z.maitUrl="//mce.mogujie.com/jsonp/multiget/3?time="+P),m||M.getServerTime().then(function(a){t(a)})},function(a,e){},,function(a,e){a.exports=function(a){var e='<!-- \u4ec5\u6709\u6837\u5f0f\u7684\u60c5\u51b5\uff0c\u901a\u8fc7\u5176\u4ed6tpl\u52a0\u5165\u6570\u636e --><!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f--><div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div><!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adiv-->';return a||(e+='<div id="mgj_rightbar_blank_div"></div>'),e+="<!--1111\u5927\u4fc3\u4fa7\u8fb9\u5bfc\u822a-->",a&&(e+=" <!-- \u9ea6\u7530\u83b7\u53d6\u6837\u5f0f --> <style>  .mgj_rightbar .mgj-my-actnavin .actnav_box .main_link, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule, .mgj_rightbar .mgj-my-actnavin .actnav_box .bot_bg { background-image: url("+a.barHeadBg+"); background-repeat: no-repeat; }  .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin.act_nav_tab_on { background: url("+a.pageTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my.act_nav_tab_on { background: url("+a.redTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop.act_nav_tab_on { background: url("+a.shopTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor.act_nav_tab_on { background: url("+a.favorTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule.act_nav_tab_on { background: url("+a.ruleTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .act_nav_tab_on { width: 110px; }  .mgj_actnav_box .actnavBox_header  { background: url("+a.pageHead+") no-repeat; } .mgj_actnav_box .redpay_pre_header { background: url("+a.redHead+") no-repeat; } .mgj_actnav_box .redpay_header { background: url("+a.redFormalHead+") no-repeat; } .mgj_actnav_box .shop_header { background: url("+a.shopHead+") no-repeat; } .mgj_actnav_box .favor_header { background: url("+a.favorHead+") no-repeat; }   .mgj_actnav_box .actnavBox_body .body_main .body_main_item { background: url("+a.oneM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item { background: url("+a.twoM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_main .body_main_item:hover { background: url("+a.oneL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item:hover { background: url("+a.twoL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_title { background: url("+a.twoTitle+") no-repeat; }  .mgj_rightbar .act-like-goods-area .gap .title { background: url("+a.gTitle+") no-repeat; } .mgj_rightbar .act-like-goods-area span.price-tag { background: url("+a.gp+") no-repeat; } .mgj_rightbar .act-like-goods-area .redpay-use .hb-img { background: url("+a.gr+') no-repeat 0 2px; } </style> <!-- \u5de6\u4fa7\u5bfc\u822a\u56fe\u7247 --> <div class="img_pre_hide" style="height: 0;width: 0;overflow: hidden;"> <img src="'+a.pageTabLight+'" alt=""> <img src="'+a.redTabLight+'" alt=""> <img src="'+a.shopTabLight+'" alt=""> </div> <!-- \u4fa7\u8fb9\u6761 --> <div class="mgj-my-actnavin"> <div class="actnav_box"> <!-- \u8fdb\u5165\u4e3b\u4f1a\u573a --> <a class="main_link J_act_main_link" target="_blank" href="javascript:;"></a> <!-- \u4f1a\u573a\u5bfc\u822a --> <a class="actnav_mainin act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- \u6211\u7684\u7ea2\u5305 --> <!--<a class="actnav_my act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<a class="actnav_shop act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u731c\u4f60\u559c\u6b22 --> <a class="actnav_favor act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- 321\u89c4\u5219 --> <a class="actnav_rule act_nav_tab J_act_rule_link" target="_blank" href="javascript:;"></a> <!-- \u5e95\u90e8\u56fe\u7247 --> <div class="bot_bg"></div> </div> </div> <!-- \u4fa7\u8fb9\u4e3b\u4f53 --> <div class="mgj_actnav_box"> <!-- \u4f1a\u573a\u5bfc\u822a --> <div class="body_enter"> <!-- \u9876\u90e8\u56fe\u7247 --> <div class="actnavBox_header"> <div class="ele_header_cont"> <i></i> </div> </div> <!-- \u672a\u83b7\u53d6\u5230\u6570\u636e\u65f6\u5360\u4f4d --> <div class="actnavBox_body"> <div id="enterArea">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> <!-- \u7ea2\u5305\u9875 --> <!--<div class="body_redpay" > &lt;!&ndash; \u53ea\u6709\u7ea2\u5305\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_pre_header show"> <div class="ele_header_cont"> <i></i> </div> </div> &lt;!&ndash; \u6709\u7ea2\u5305\u548c\u6ee1\u8fd4\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_header hide"> <div class="ele_header_cont"> <i></i> <div class="redpay_item"></div> <div class="fullreturn_item"></div>  <div class="hover_line"></div> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u7ea2\u5305\u4fe1\u606f &ndash;&gt; <div class="redpay-user-box show"> <div class="redpay-desc"> <div class="go-rule" > <span class="show-rule-btn" id="showRuleBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u4f7f\u7528\u89c4\u5219 </span> </div> <div id="redpayArea"></div> </div> <div class="redpay-rule-box" id="ruleArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleContent"> </div>  </div> </div> </div> &lt;!&ndash; \u6ee1\u8fd4 &ndash;&gt; <div class="fullreturn-user-box hide"> <div class="fullreturn-desc"> <div class="go-full-return-rule" > <span class="show-full-return-rule-btn" id="showRuleFullReturnBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u6ee1\u8fd4\u6d3b\u52a8\u89c4\u5219 </span> </div> <div id="fullReturnArea"></div> </div> <div class="fullreturn-rule-box" id="ruleFullReturnArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleFullReturnContent"> </div>  </div> </div> </div> &lt;!&ndash; \u731c\u4f60\u559c\u6b22 &ndash;&gt; <div id="act_goods_like_box">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div>  </div>  </div>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<div class="body_shop"> <div class="actnavBox_header shop_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u6211\u7684\u5e97\u94fa\u5238 &ndash;&gt; <div id="act-shop-coupon-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> &lt;!&ndash; \u597d\u5e97\u63a8\u8350 &ndash;&gt; <div id="act-good-shop-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div>--> <!-- \u731c\u4f60\u559c\u6b22 --> <div class="body_favor" > <div class="actnavBox_header favor_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> <div class="shop-top-enter-area"> </div> <!-- \u731c\u4f60\u559c\u6b22 --> <div id="act_goods_like_box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> </div>'),e}},function(a,e){a.exports=function(a){var e="<!-- \u4f1a\u573a\u5bfc\u822a -->";if(a){e+='<!-- \u5168\u90e8\u4f1a\u573a --> <!-- \u6b63\u5f0fbody\u5f00\u59cb --> <div class="body_main clearfix"> <!-- \u4e3b\u4f1a\u573a --> ';var i=a.data[2426].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="body_main_header" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+=" <!-- \u4e00\u7ea7\u4f1a\u573a --> ";var r=a.data[2421].list;if(r)for(var t,s=-1,d=r.length-1;d>s;)t=r[s+=1],e+=' <a class="body_main_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=' </div> <div class="body_centre clearfix"> <div class="body_centre_title"></div> <!-- \u4e8c\u7ea7\u4f1a\u573a --> ';var l=a.data[2427].list;if(l)for(var t,c=-1,v=l.length-1;v>c;)t=l[c+=1],e+=' <a class="body_centre_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=" </div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u529b\u8350\u597d\u5e97\u5165\u53e3 -->";if(a){e+='<div class="body_top_shop clearfix"> ';var i=a.data[38726].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="top_shop_enter" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+="</div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u731c\u4f60\u559c\u6b22 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-like-goods-area"> <div class="gap"> <div class="title"></div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <div class="like-goods-list" data-iid="'+t.item_id+'">  <div class="like-goods-item clearfix">  <div class="left-img"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.image+'" alt=""> </a> </div>  <div class="right-info fl"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name single-line yahei">'+t.title+'</div> <div class="price-area single-line"> <span class="price-tag fl"></span> <span class="price yahei fl">\xa5'+(t.discountPrice||t.price)+'</span> <span class="old-price yahei fl">\xa5'+t.price+'</span> </div> <div class="redpay-use single-line clearfix"> <!--<span class="hb-img fl"></span> <span class="hb-price fl">',e+=t.hbPrice?"\u7ea2\u5305\u6700\u9ad8\u518d\u62b5\uffe5"+t.hbPrice:"\u7528\u7ea2\u5305\u66f4\u5212\u7b97",e+="</span>--> </div> <div> ",e+=a.isFormal?' <div class="btn add-shopcar yahei">\u7acb\u5373\u8d2d\u4e70</div> ':' <div class="btn add-shopcar yahei">\u52a0\u5165\u8d2d\u7269\u8f66</div> ',e+=" </div> </a> </div>  </div> </div> ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u7ea2\u5305\u4fe1\u606f -->";return a&&(e+=" ",e+=a.isLogin?a.hasRedpay?' <div class="sidebar_tip gray999">\u7ea2\u5305\u603b\u8ba1\uff08\u5143\uff09</div> <div class="redpay-num">'+a.price+'</div> <div class="sidebar_tip gray666">\uff08\u53ef\u4e0e\u5e97\u94fa\u5238\u3001\u5e73\u53f0\u5238\u53e0\u52a0\uff09</div> <a href="'+a.link+'" class="redpay-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u7ea2\u5305\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u7ea2\u5305\u54e6<br/>\u5feb\u53bb\u4e3b\u4f1a\u573a\u8d62\u53d6\u7ea2\u5305\u5427</div> <a href="'+a.mainUrl+'" class="redpay-btn" target="_blank">\u53bb\u4e3b\u4f1a\u573a</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="redpay-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e="<!-- \u6211\u7684\u5e97\u94fa\u4f18\u60e0\u5238 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-shop-coupon-area"> <div class="gap"> <div class="title">\u6211\u7684\u5e97\u94fa\u5238</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="shop-coupon-list">                 <div class="shop-coupon-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shopUrl+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.recommendItemCover+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shopUrl+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice" ><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div>  </div> </div> '),e+=" ";e+=' <!-- \u67e5\u770b\u66f4\u591a --> <a href="'+a.link+'" class="check-more yahei" target="_blank">\u67e5\u770b\u66f4\u591a<span class="logo"></span></a> </div> </div> '}return e}},function(a,e){a.exports=function(a){var e="<!-- \u597d\u5e97\u63a8\u8350 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-good-shop-area"> <div class="gap"> <div class="title">\u597d\u5e97\u63a8\u8350</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="good-shop-list" >                 <div class="good-shop-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.list[0].image+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice"><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div> </div> </div> '),e+=" ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u6ee1\u8fd4 -->";return a&&(e+=" ",e+=a.isLogin?a.hasFullReturn?' <div class="sidebar_tip gray999">\u91d1\u989d\u603b\u8ba1\uff08\u5143\uff09</div> <div class="fullreturn-num">'+a.price+'</div> <div class="sidebar_tip gray666">(\u53ef\u5728\u6536\u94f6\u53f0\u62b5\u6263\u4ed8\u6b3e\u91d1\u989d  )</div> <a href="'+a.link+'" class="fullreturn-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u60a8\u7684\u6ee1\u8fd4\u4f59\u989d\u4e3a\u96f6\uff0c<br/>\u5355\u7b14\u5b9e\u4ed8\u6ee1\u767e\u5373\u8fd4\uff01</div> <a href="'+a.mainUrl+'" class="fullreturn-btn" target="_blank">\u53bb\u8d2d\u7269</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="fullreturn-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e='<!-- \u9876\u901a --><div class="wrap"> <div class="innerwrap clearfix"> ',i=a;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="fl ',0===n?e+="first reset":n===a.length-1&&(e+="last"),e+='" href="'+(t.link||"javascript:;")+'" target="_blank"></a> ';return e+=" </div></div>"}}]);!function(){"use strict";function e(){var e="1";return T.isMobile&&(e="m1"),T.isIos&&T.isNative?e="am0":T.isAndroid&&T.isNative&&(e="am1"),e}function t(){var e=k.getValue(j.ptp_cnt_b);if(e)return e;var t="",n=location.href.split("?")[0];return t=q.pageHash(n)}function n(){var e=k.getCookieOrFunc(j.cpsinfo);return e?e=e.replace("-",","):""}function r(e){if(e){var t=k.getValue(j.urlExtendFn,e);return k.hasKey(t)?t:void 0}}function i(e){if(e){e.length&&(e=e[0]);var t=k.getValue(j.ptp_cnt_c_d,e);if(t)return t;var n=e.getAttribute("data-ptp-customc");if(n)return{c:n,d:U.getIndex("data-ptp-customc",n,e)};if(e=U.getParents(e,"data-ptp-customc"))return n=e.getAttribute("data-ptp-customc"),n?{c:n,d:U.getIndex("data-ptp-customc",n,e)}:void 0}}function o(){return k.getCookieOrFunc(j.uuid)}function a(){window.PTP_PARAMS&&k.extend(j,window.PTP_PARAMS);var e=navigator.userAgent.toLocaleLowerCase();return T.isNative=j.isNativeRe.test(e),{time:k.getTime(),ver:"1.1.0",uid:k.getCookieOrFunc(j.uid),_channel:"","tid-token":"",launchTime:k.getTime(),active:0,deviceName:"",os_ver:"",root:0,network:0,provider:"",url:location.href,refer:document.referrer,ptp_url:k.getQuery("ptp",location.search),ptp_ref:k.getQuery("ptp",document.referrer?document.referrer:""),eid:"0",ext:{cpsparam:k.getCookie("__cps"),cpsinfo:n(),_notNative:!T.isNative}}}function u(){H.a=e(),H.b=t(),H.c=0,H.d=0}function c(e,t){t=t||{};var n=[];for(var r in t){var i=t[r];i||(i=""),i=encodeURIComponent(i),n.push(r+"="+i)}n=n.join("&"),e=e.indexOf("?")>-1?e+"&"+n:e+"?"+n;var o=new Image;o.src=e}function d(e,t){e+="?web=1",t=t||{};var n,r=z++;try{n=document.createElement('<iframe name="'+r+'">')}catch(i){n=document.createElement("iframe"),n.setAttribute("name",r)}try{n.style.display="none",document.body.appendChild(n),n.contentWindow.name=r;var o=document.createElement("form");o.setAttribute("method","POST"),o.setAttribute("action",e),o.setAttribute("target",r);for(var a in t)if(t.hasOwnProperty(a)){var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",a),u.setAttribute("value",t[a]),o.appendChild(u)}document.body.appendChild(o),o.submit(),k.registerEvent(n,"load",function(){try{document.body.removeChild(o),document.body.removeChild(n)}catch(e){}})}catch(i){window.M&&M.log(i)}}function f(){if(!K){K=!0;for(var e=0;e<J.length;e++)J[e].fn.call(window,J[e].ctx);J=[]}}function s(){"complete"===document.readyState&&f()}function p(e,t){return K?void setTimeout(function(){e(t)},1):(J.push({fn:e,ctx:t}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(f,1):W||(document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",f)),W=!0)))}function g(){return X}function l(e,t,n){"undefined"!=typeof e&&(t=t||{},n&&window.M&&M.web.AB&&(t.abinfo=M.web.AB.formatAB(n)),p(function(){var n=V.getPtpInfoAndExtra(t);n.eid=e+"",g()?D.logData("e",k.extend({},n)):k.listenTo("LoggerReady",function(){var e=V.getPtpInfoAndExtra(t);D.logData("e",k.extend({},e))}),window.MtaH5&&MtaH5.clickStat&&MtaH5.clickStat(e,t)}))}function v(){var e=V.getPtpInfoAndExtra(),t=k.getValue(j.pEventId);e.eid=t,D.logData("p",e)}function m(){if(T.isNative){var e=V.getPtpCnt();window.M&&M.web.AB&&M.web.AB.isAB?M.web.AB.collectExps().then(function(t){t.length?D.logAppPevent(e,t):D.logAppPevent(e)}):D.logAppPevent(e)}else g()?v():k.listenTo("LoggerReady",function(){v()})}function h(){p(function(){V.refreshPtp(),V.refreshE(),m()})}function w(e){var t=e.href;if(!(t.indexOf("mogujie.com/mtalk/")>-1)&&(j.hrefRe.test(t)||j.mgjRe.test(t))){var n=e.getAttribute("data-ptp-cache-id");t=e.getAttribute("href"),n&&j.ptpRe.test(n)||(n=V.createPtpCnt(e),e.setAttribute("data-ptp-cache-id",n)),e.href=V.makeUrl(t,n,e)}}function y(e){if(e.getAttribute){var t=e.getAttribute("href");if(null===t||0===t.indexOf("#"))return!1}return!0}function x(e){var t=e||window.event,n=t.target||t.srcElement,r=U.getA(n),i="AREA"===n.nodeName?n:null;i&&(r=i),r&&(r.href&&r.href.indexOf("javascript:")>-1||y(r)&&w(r))}function A(e,t){if("undefined"==typeof e)return"";var n="";return n=t?V.createPtpCnt(t):V.getPtpCnt(),V.makeUrl(e,n,t)}function E(){var e=A("");e=e.split("?")[1],e=e.split("&");for(var t,n="",r=0,i=e.length;r<i;r++)t=e[r].split("="),n+='<input type="hidden" name="'+t[0]+'" value="'+(t[1]?t[1]:"")+'"/>';return n}function P(e){e&&"string"==typeof e&&(e=A(e),window.location.href=e)}var b=1001,C={},_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=/(&|<|>|"|`|')/g,k={escapeHtml:function(e){return e.replace(L,function(e){return _[e]})},isIE:function(e){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},stringify:function(e){var t=this;if("undefined"!=typeof JSON)return JSON.stringify(e);var n=typeof e;if("object"!=n||null===e)return"string"==n&&(e='"'+e+'"'),String(e);var r,i,o=[],a=e&&e.constructor==Array;for(r in e)i=e[r],n=typeof i,e.hasOwnProperty(r)&&("string"==n?i='"'+i+'"':"object"==n&&null!==i&&(i=t.stringify(i)),o.push((a?"":'"'+r+'":')+String(i)));return(a?"[":"{")+String(o)+(a?"]":"}")},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},getCookieInArray:function(e){for(var t=this,n=0,r=e.length;n<r;n++){var i=t.getCookie(e[n]);if(i)return i}return""},getCookieOrFunc:function(e){return"function"==typeof e?this.getValue(e):this.getCookie(e)},getCookie:function(e){if(this.isArray(e))return this.getCookieInArray(e);var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""},getQuery:function(e,t){"undefined"==typeof t&&(t=location.search);var n="(^|&|\\?)"+e+"=([^&]*)(&|$)",r=new RegExp(n,"i"),i=t.substr(1).match(r);return null!==i?this.escapeHtml(decodeURIComponent(i[2])):""},setQuery:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n},getTime:function(){return(new Date).getTime()},registerEvent:function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},extend:function(){for(var e=arguments,t=arguments[0],n=1;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},getValue:function(e){if(e){if("function"==typeof e)try{var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)}catch(n){return window.M&&window.M.log("**logger.js---\u6253\u70b9\u51fa\u9519:"+n),""}return e}},loadScript:function(e,t,n){if(window["callback_"+b]=function(e){t&&t(e)},e=this.setQuery(e,"callback","callback_"+b),b+=1,n)window.loader.script(e,function(){},function(){});else{var r=document.createElement("script");r.src=e;var i=document.getElementsByTagName("head")[0];i&&i.appendChild(r)}},listenTo:function(e,t){C[e]||(C[e]=[]),C[e].push(t)},fire:function(e){var t=C[e];if(t&&t.length){for(var n=0,r=t.length;n<r;n++)t[n].call();C[e]=[]}},hasKey:function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}},I="https:"===location.protocol?"https:":"http:",N="mogujie";location.host.indexOf("meilishuo")!=-1&&(N="meilishuo");var j={LogUrl:I+"//log.mogujie.com/log",CookieUrl:I+"//portal."+N+".com/api/util/getUuid",shouldRequestCookie:function(){var e=k.getCookieOrFunc(this.uuid);return!e},uuid:["__mgjuuid","__xduuid"],uid:"__ud_",cpsinfo:"__cpsinfo",ptp_cnt_a:"",ptp_cnt_b:"",ptp_cnt_c_d:"",platform:function(){var e=navigator.userAgent.toLowerCase();if(/qq\/([\d\.]+)/.test(e)||/qzone\//.test(e))return 48},pEventId:"0",isMobileRe:/iphone|android|ipad/i,ptpRe:/[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+/i,hrefRe:/http[s]?:\/\/(\w+\.){1,2}(mogujie|meilishuo|xiaodian|uniny)\.com([\/]|\/.*|)$/,mgjRe:/(mgj|mls):\/\//,mtRe:/\?.*[&]?mt=([^\.]+)\.([^\.]+)\.([^\.&#]+)/,chasing:["f","f2","mlf","s","_fu"],urlExtend:["acm"],urlExtendFn:function(){},extra:{},isNativeRe:/(mogujie|meilishuo|mls|mgjtuangou|xiaodian|xcore)/i,nativeLog:{}},O=navigator.userAgent.toLocaleLowerCase(),R=!1,S=O.indexOf("xcore")>-1;S&&window.loader&&window.loader.script&&(R=!0);var T={isWX:O.indexOf("micromessenger")>-1,isApp:j.isNativeRe.test(O),isNative:j.isNativeRe.test(O),isMobile:j.isMobileRe.test(O),isIos:O.indexOf("iphone")>-1,isAndroid:O.indexOf("android")>-1,isLowIE:!R&&(k.isIE(6)||k.isIE(7)||k.isIE(8)),xcore:R},B=window.jQuery||window.Zepto,Q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n+1;return-1},U={getA:function(e){var t=e;if("A"==t.tagName)return e;for(;t.parentNode;)if(t=t.parentNode,"A"==t.tagName)return t},getParentByClass:function(e,t){if(e){if(B)return $(e).parents("."+t);for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.className&&r.className.indexOf(t)!=-1)return r}},getParents:function(e,t){if(e){if(t=t||"",B)return t="["+t+"]",$(e).parents(t)[0];for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.getAttribute&&r.getAttribute(t))return r}},getIndex:function(e,t,n){if(!e||!t||!n)return 0;if(B)return $("["+e+'="'+t+'"]').index($(n))+1;if(document.querySelectorAll){var r=document.querySelectorAll("["+e+'="'+t+'"]');return Q(r,n)}return 1},getElemIndex:function(e,t,n){if(!e||!t||!n)return 0;if(B)return $(e).find(t).index($(n))+1;if(e.querySelectorAll){var r=e.querySelectorAll(t);return Q(r,n)}return 1},is:function(e,t){return!(!e||!t)&&(e.length&&(e=e[0]),e.nodeName.toLowerCase()===t.toLowerCase()||void 0)}},q={arr:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",rand:function(e){var t,n,r=this,i="",o=0;for(t=0;t<e;t++)n=parseInt(Math.random()*r.arr.length,10),i+=r.arr.charAt(n),o+=r.arr.charCodeAt(n);return i+=this.arr.charAt(o%this.arr.length)},pageHash:function(e){var t=this,n=5381,r=e.length-1;if("string"==typeof e)for(;r>-1;r--)n+=(n<<5)+e.charCodeAt(r);else for(;r>-1;r--)n+=(n<<5)+e[r];var i=2147483647&n,o="";do o+=t.arr.charAt(61&i),i>>=6;while(i);return o}},F=a(),H={a:e(),b:t(),c:0,d:0,e:j.ptp_cnt_e?j.ptp_cnt_e:q.rand(6)},V={getPlatform:function(){var e=k.getValue(j.platform);return e?e:T.isMobile?32:31},getPtpByType:function(e){var t=[0,o(),e];return t},getPtpCnt:function(e,t){return e||(e=H.c),t||(t=H.d),[H.a,H.b,e,t,H.e].join(".")},getPtpInfo:function(){var e={};return k.extend(e,F,{ptp_cnt:this.getPtpCnt()})},getPtpInfoAndExtra:function(e){var t=this.getPtpInfo(),n={};if(j.extra)for(var r in j.extra)j.extra.hasOwnProperty(r)&&(n[r]=k.getValue(j.extra[r]));var i=k.extend({},t.ext,n,e);return k.extend({},t,{ext:i})},createPtpCnt:function(e){var t=i(e),n=0,r=0;if(t)return this.getPtpCnt(t.c,t.d);var o=U.getParents(e,"data-ptp"),a=U.getParentByClass(e,"data-ptp-item");return o&&(n=o.getAttribute("data-ptp"),r=a?U.getElemIndex(o,".data-ptp-item",a):U.getElemIndex(o,"a",e)),r||(r=0),this.getPtpCnt(n,r)},makeUrl:function(e,t,n){var r=e.match(/(#.+)$/);return e=e.replace(/(#.+)$/,""),e=k.setQuery(e,"ptp",t),e=this.getChasingParams(e),e=this.getExtendParams(n,e),r&&(e+=r[1]),e},getChasingParams:function(e){"undefined"==typeof e&&(e="");var t=e;if(!j.chasing)return t;j.chasing.length||(j.chasing=[j.chasing]);for(var n,r,i=0,o=j.chasing.length;i<o;i++)n=j.chasing[i],r=k.getQuery(n),r&&(t=k.setQuery(t,n,r));for(var a=location.search,u=/[\?&](_f_[^=]+)=([^&]+)/g,c=u.exec(a);c&&3==c.length;)t=k.setQuery(t,c[1],c[2]),c=u.exec(a);return t},getExtendParams:function(e,t){var n=t;if(!e||!U.is(e,"a"))return n;var i=r(e);if(i)for(var o in i)i.hasOwnProperty(o)&&(n=k.setQuery(n,o,i[o]));else{e.length&&(e=e[0]);for(var a=j.urlExtend||[],u=0,c=a.length;u<c;u++){var d=a[u],f=e.getAttribute("data-ext-"+d);f&&(n=k.setQuery(n,d,f))}}return n},refreshPtp:function(){F=a(),u()},refreshE:function(){H&&(H.e=q.rand(6))}},z=0,D={sendLog:function(e,t){T.isLowIE?d(e,t):c(e,t)},sendAppLog:function(e,t){return e+="",j.nativeLog&&j.nativeLog.logE?j.nativeLog.logE(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.tracker.sendEvent",e,t):document.addEventListener("deviceready",function(){window.mgj&&mgj.tracker&&mgj.tracker.sendEvent&&mgj.tracker.sendEvent(e,t)},!1))},logAppPevent:function(e,t){return j.nativeLog&&j.nativeLog.logP?j.nativeLog.logP(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.pevent",e,t).then(function(){},function(){}):document.addEventListener("deviceready",function(){window.mgj&&mgj.pevent&&mgj.pevent(function(){},null,e)},!1))},logData:function(e,t){var n=V.getPtpByType(e),r=t.eid;if(n.push(k.stringify(t)),T.isNative){var i=t.ext;i.ptp_cnt=t.ptp_cnt,i.ptp_url=t.ptp_url,i.ptp_ref=t.ptp_ref,i.uid=t.uid,D.sendAppLog(r,i)}else D.sendLog(j.LogUrl,{v:2,pt:k.getTime(),pf:V.getPlatform(),data:n.join("\t")})}},J=[],K=!1,W=!1,X=T.isNative||!j.shouldRequestCookie();X||k.loadScript(j.CookieUrl,function(){X=!0,k.fire("LoggerReady")},T.xcore),"undefined"==typeof location.search&&(location.search=location.href.split("#")[0]);var Z={version:"1.1.0",ptp:V,config:j,util:k,info:T,send:D,refreshPevent:h,log:l,generatePtpParams:A,generatePtpForm:E,goTo:P};if(window.logger=Z,!T.xcore){var G="tap"in document.createElement("div")?"tap":"mousedown";k.registerEvent(document,G,x),k.registerEvent(document,"touchstart",x)}return p(function(){V.refreshPtp(),m()}),Z}();
var trace=function(){"use strict";function extend(){var arguments$1=arguments;var target=arguments[0];var argsLen=arguments.length;for(var i=1;i<argsLen;i++){var source=arguments$1[i];for(var p in source){if(source.hasOwnProperty(p)){target[p]=source[p]}}}return target}function getValue(fn){if(typeof fn!=="function"){return fn}return fn()}var config={customUrl:function customUrl(){},getExtraTime:function getExtraTime(){return 0},blankTime:"__trace__headendt"};function getFormatUrl(url){url=url||location.href;var customUrl=getValue(config.customUrl);if(customUrl){customUrl=customUrl.split("https://").join("").split("http://").join("");return customUrl}if(typeof url==="string"){url=url.split("?")[0].split("#")[0].split("https://").join("").split("http://").join("");if(url.charAt(url.length-1)==="/"){url=url.substr(0,url.length-1)}}return url}var CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m;var SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}function _indexOf(array,target){if(typeof Array.prototype.indexOf==="function"){return array.indexOf(target)}else{for(var i=0;i<array.length;i++){if(array[i]===target){return i}}return-1}}var ErrorStackParser={parse:function ErrorStackParser$$parse(error){if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{return[]}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var regExp=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/;var parts=regExp.exec(urlLike.replace(/[\(\)]/g,""));return[parts[1],parts[2]||undefined,parts[3]||undefined]},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=_indexOf(["eval","<anonymous>"],locationParts[0])>-1?undefined:locationParts[0];return{functionName:functionName,filename:fileName,row:locationParts[1],column:locationParts[2],line:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,filename:locationParts[0],row:locationParts[1],column:locationParts[2],line:line}}},this)}};var parser={ErrorStackParser:ErrorStackParser,parse:function parse(error){var r=ErrorStackParser.parse(error);if(!r||r.length<=0){return error.message}var info=r[0];var strs=[];if(info.filename){var filename=info.filename;if(filename.lastIndexOf("/")>-1){filename=info.filename.slice(info.filename.lastIndexOf("/"))}strs.push(filename)}if(info.functionName){strs.push("@"+info.functionName)}if(info.row){strs.push(" "+info.row)}return error.message+" - "+strs.join("")},normalize:function normalize(error){var r=ErrorStackParser.parse(error);return r}};function getPlatform(){var ua=navigator.userAgent.toLowerCase();return/iphone|android|ipad/i.test(ua)?"h5":"pc"}function getBrowser(){var nAgt=navigator.userAgent;var unknown="";var browser=unknown;var version="";var majorVersion="";var verOffset;var ix;if((verOffset=nAgt.indexOf("Opera"))!==-1){browser="Opera";version=nAgt.substring(verOffset+6);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((verOffset=nAgt.indexOf("OPR"))!==-1){browser="Opera";version=nAgt.substring(verOffset+4)}else if(nAgt.indexOf("MicroMessenger")!==-1){browser="Wechat"}else if(nAgt.indexOf("QQ")!==-1){browser="QQ"}else if((verOffset=nAgt.indexOf("MSIE"))!==-1){browser="IE";version=nAgt.substring(verOffset+5)}else if((verOffset=nAgt.indexOf("Chrome"))!==-1){browser="Chrome";version=nAgt.substring(verOffset+7)}else if((verOffset=nAgt.indexOf("Firefox"))!==-1){browser="Firefox";version=nAgt.substring(verOffset+8)}else if(nAgt.indexOf("Trident/")!==-1){browser="IE";version=nAgt.substring(nAgt.indexOf("rv:")+3)}else if((verOffset=nAgt.indexOf("Safari"))!==-1||nAgt.indexOf("iPhone")!==-1){browser="Safari";version=nAgt.substring(verOffset+7);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((ix=version.indexOf(";"))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(" "))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(")"))!==-1){version=version.substring(0,ix)}if(version){majorVersion=parseInt(""+version,10);if(isNaN(majorVersion)){version=""+parseFloat(navigator.appVersion);majorVersion=parseInt(navigator.appVersion,10)}}return majorVersion?browser+"_"+majorVersion:browser+"_unknown"}function getOs(){var unknown="";var os=unknown;var nAgt=navigator.userAgent;var clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}var osVersion=unknown;if(/Windows/.test(os)){osVersion=/Windows (.*)/.exec(os)[1];os="Windows"}switch(os){case"Mac OS X":osVersion="";break;case"Android":var matched=/Android( |\/)([\.\_\d]+)/.exec(nAgt);if(matched&&matched.length>0){var arr=(matched[2]||"").split(".").slice(0,2);osVersion=arr.join(".")}break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nAgt);if(osVersion&&osVersion.length>0){osVersion=osVersion[1]+"."+osVersion[2]}break}return os===unknown?os:os+osVersion}function getScreen(){var _screen=window.screen;var width;var height;var screenSize="";if(_screen&&_screen.width){width=_screen.width?_screen.width:"";height=_screen.height?_screen.height:"";screenSize+=""+width+"x"+height}return screenSize}function getDevicePixelRatio(){var dpr=(window.devicePixelRatio?window.devicePixelRatio:1)-0;return dpr.toFixed(1)}function getDeviceInfo(){return{platform:getPlatform(),screen:getScreen(),os:getOs(),browser:getBrowser(),devicePixelRatio:getDevicePixelRatio()}}var Promise=window.Promise;function getPerformanceInfo(){var timing=window.performance&&window.performance.timing;if(!timing){return Promise.resolve({})}var blankTime=window[config.blankTime];if(!blankTime){blankTime=timing.domContentLoadedEventStart}var res={dns:timing.domainLookupEnd-timing.domainLookupStart,tcp:timing.connectEnd-timing.connectStart,request:timing.responseStart-timing.requestStart,response:timing.responseEnd-timing.responseStart,domContentLoad:timing.domContentLoadedEventEnd-timing.navigationStart,blankTime:blankTime-timing.navigationStart,readyTime:timing.domInteractive-timing.navigationStart,onloadTime:timing.loadEventEnd-timing.navigationStart,extraTime:getValue(config.getExtraTime)||0};return Promise.resolve(res)}function _log(){var logger=window.logger;if(!logger){return}var info=getDeviceInfo();getPerformanceInfo().then(function(performance){logger.log&&logger.log("016000001",extend({formatUrl:getFormatUrl()},info,performance))})}var queue=[];function isNewError(msg,file,line,col){var flag=true;for(var i=0;i<queue.length;i++){var item=queue[i]||{};if(item.msg===msg&&item.file===file&&item.line===line&&item.col===col){flag=false;break}}if(flag){queue.push({msg:msg,file:file,line:line,col:col})}return flag}function onErrorHandler(msg,file,line,col,err){if(!isNewError(msg,file,line,col)){return}var stack="";if(err){if(err.hasReported){return}stack=err.stack||""}queue.push({msg:msg,file:file,line:line,col:col});var logger=window.logger;if(!logger||!logger.log){return}if(typeof stack!=="string"){stack=""+stack}var data={type:0,msg:msg,stack:stack,ua:navigator.userAgent,formatUrl:getFormatUrl()};try{JSON.stringify(data);logger.log("016000011",data)}catch(_){}}var regParsePattern=/^\s*('?undefined'?|object|null) is not (a function|an object)\s*$/i;function shouldParse(msg){if(!msg){return false}if(regParsePattern.test(msg)){return true}if(msg.toLowerCase()==="cannot convert undefined or null to object"){return true}return false}function getErrorInfo(error,useParser){if(!error){return null}var data={};if(typeof error==="object"){data.msg=error.message||"";data.stack=error.stack||"";data.stack=data.stack;if(typeof data.stack!=="string"){data.stack=""+data.stack}}else{data.msg=error}data.ua=navigator.userAgent;data.type=1;if(shouldParse(data.msg)&&typeof error==="object"&&error.stack){try{data.msg=parser.parse(error)}catch(err){}}if(!isNewError(data.msg,data.stack)){return null}return data}var Logger={init:function init(){var interval=setInterval(function(){var timing=window.performance&&window.performance.timing;if(timing&&timing.loadEventEnd===0){return}clearInterval(interval);setTimeout(function(){_log()},10)},300);window.onerror=onErrorHandler},sendMsg:function sendMsg(error,extra,useParser){if(extra===void 0)extra=null;if(useParser===void 0)useParser=false;var data=getErrorInfo(error,useParser);var logger=window.logger;if(!data||!logger||!logger.log){return}var extraJSON="";if(extra){try{extraJSON=JSON.stringify(extra);if(extraJSON.length>1024){throw new Error("extra contains too much information")}}catch(e){extraJSON="";console&&console.warn&&console.warn(e)}}extend(data,{formatUrl:getFormatUrl(),extra:extraJSON});try{JSON.stringify(data);logger.log("016000011",data)}catch(err){}}};function isIE(){var myNav=navigator.userAgent.toLowerCase();return myNav.indexOf("msie")!==-1?parseInt(myNav.split("msie")[1],10):false}function _report(err){if(typeof err==="string"){err=new Error(err)}if(err.hasReported){return}err.hasReported=true;Logger.sendMsg(err,null,true)}function _inject(fn){if(typeof fn.apply!=="function"){return fn}return function(){try{return fn.apply(this,arguments)}catch(err){_report(err);console&&console.warn&&console.warn(err);throw err}}}function _transform(fn){if(!fn||typeof fn.apply!=="function"){return fn}return function(){var arguments$1=arguments;var args=[];var arg;for(var i=0,l=arguments.length;i<l;i++){arg=arguments$1[i];if(typeof arg==="function"){arg=_inject(arguments$1[i])}args.push(arg)}return fn.apply(this,args)}}function _mix(target,src){for(var key in src){target[key]=src[key]}}function injectjQuery(){var $=window.$;if(!$||$!==window.jQuery&&$!==window.Zepto){return}var _ready=$.fn.ready;$.fn.ready=_transform(_ready);var _ajax=$.ajax;if(typeof _ajax==="function"&&typeof _ajax.apply==="function"){$.ajax=function(url,options){var target=null;if(typeof options==="undefined"&&typeof url==="object"){target=url}else if(typeof options==="object"){target=options}if(target){if(typeof target.success==="function"){target.success=_inject(target.success)}if(typeof target.complete==="function"){target.complete=_inject(target.complete)}}return _ajax.apply($,arguments)}}}function injectRequireJS(){var _require=window.require;var _define=window.define;if(_define&&_define.amd&&_require){window.require=_transform(_require);_mix(window.require,_require);window.define=_transform(_define);_mix(window.define,_define)}}function injectSystem(){var _setTimeout=window.setTimeout;window.setTimeout=function(fn,ms){if(typeof fn==="function"){fn=_inject(fn)}switch(arguments.length){case 0:return _setTimeout();case 1:return _setTimeout(fn);default:return _setTimeout(fn,ms)}};var _setInterval=window.setInterval;window.setInterval=_transform(_setInterval);var _requestAnimationFrame=window.requestAnimationFrame;if(typeof _requestAnimationFrame==="function"){window.requestAnimationFrame=_transform(_requestAnimationFrame)}if(window.EventTarget&&window.EventTarget.prototype.addEventListener){var addEventListener=window.EventTarget.prototype.addEventListener;window.EventTarget.prototype.addEventListener=function(event,callback,bubble){if(callback&&typeof callback.handleEvent==="function"){callback.handleEvent=_inject(callback.handleEvent);return addEventListener.call(this,event,callback,bubble)}else{if(!callback.___wrapper){callback.___wrapper=_inject(callback)}return addEventListener.call(this,event,callback.___wrapper,bubble)}};var removeEventListener=window.EventTarget.prototype.removeEventListener;window.EventTarget.prototype.removeEventListener=function(event,callback,bubble){if(!callback){return removeEventListener.call(this,event,callback,bubble)}else{return removeEventListener.call(this,event,callback.___wrapper||callback,bubble)}}}}var Inject={init:function init(){if(isIE()&&isIE()<9){return}injectjQuery();injectRequireJS();injectSystem()}};var exit=false;if(window._trace){console&&console.warn&&console.warn("WARNING: you already import trace");exit=true}try{if(localStorage.__disable__trace__){console.warn("trace is disabled");exit=true}}catch(err){}if(!/^https?/.test(location.protocol)){console.warn("trace will work only under http or https protocol page");exit=true}if(!/(meilishuo|mogujie|xiaodian|uniny|meili-inc)\.com/.test(location.host)){console.warn("trace will work only under *.(meilishuo|mogujie|xiaodian|uniny|meili-inc).com");exit=true}var M=window.M;if(!M){console.warn("M is required before using trace");exit=true}else if(typeof M.isDev==="function"&&M.isDev()){console.warn("trace will work only under production mode");exit=true}if(typeof window.console==="undefined"){window.console={log:function(){},warn:function(){}}}if(!exit){Logger.init();Inject.init()}window._trace={send:function send(){},sendImmediately:function sendImmediately(){},version:"1.2.3",config:config,sendMsg:Logger.sendMsg};var index={};return index}();!function(e){MGLightBox=function(t){var i=this,l={title:"",titleLink:"",titleLinkText:"",lightBoxId:"",ajax:!1,contentHtml:"",scroll:!1,isBgClickClose:!0,resizeshow:!0,closeCallBack:function(){}},n=null,o='<div id="{id}" class="light_box"><iframe frameborder="0" scrolling="no" class="lb_fix"></iframe>{content}</div>',s='<table class="lb_wrap clearfix r5"><tbody><tr><td><div class="lb_hd">{title}{title_link}<a href="javascript:;" class="lb_close">\xd7</a></div><div class="lb_bd">{body}</div></td></tr></tbody></table>',c='<div class="light_box_fullbg"></div>',a='<table class="lb_info r5"><tbody><tr><td><div class="lb_l">{text}......\uff08<a class="lb_cs" href="javascript:;">\u53d6\u6d88</a>\uff09</div></td></tr></tbody></table>',r='<table class="lb_info r5"><tbody><tr><td><div class="lb_s">{text}</div></td></tr></tbody></table>',d='<table class="lb_info r5"><tbody><tr><td><div class="lb_f">{text}</div></td></tr></tbody></table>',b=e.extend(l,t),f=null,u=null,h=null,g=!1,_=function(){var e=(document.documentElement.scrollTop||document.body.scrollTop)+((document.documentElement.clientHeight||document.body.clientHeight)-f.height())/2,t=window.location.toString();return 0>e?e=0:t.indexOf("is_qzone")>0&&(e/=6),e};i.getBoxFrame=function(){return f},i.getFrameId=function(){return b.lightBoxId},i.getBackground=function(){return h},i.close=function(){n&&n.abort(),f.hide(),b.closeCallBack(),f.remove(),0==e(".light_box").size()&&h.remove(),e("body").unbind("keydown")},i.hide=function(){f.hide(),h.hide(),e("body").unbind("keydown")},i.show=function(){f.show(),h.show()},i.resize=function(){var t=e(window).width(),i=(t-f.width())/2,l=_();if(u.css({width:f.width(),height:f.height()}),e.browser.msie&&"6.0"==e.browser.version&&h.css("height",document.documentElement.clientHeight||document.body.clientHeight),b.scroll)if(e.browser.msie&&"6.0"==e.browser.version)f.css({left:i,top:l}).show(),g||e(window).scroll(function(){var e=_();f.css("top",e)});else{l=((document.documentElement.clientHeight||document.body.clientHeight)-f.height())/2;var n=window.location.toString();0>l?l=0:n.indexOf("is_qzone")>0&&(l/=6),f.css({left:i,top:l,position:"fixed"}).show()}else f.css({left:i,top:l}).show()},i.init=function(){if(""!=b.lightBoxId){var t=o.replace(/{id}/g,b.lightBoxId).replace(/{content}/,s);b.title&&""!=b.title&&(t=t.replace(/{title}/g,'<span class="lb_title">'+b.title+"</span>")),t=""!=b.titleLinkText?t.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+b.titleLink+'" target="_blank">'+b.titleLinkText+"</a>\uff09</span>"):t.replace(/{title_link}/g,""),t=b.ajax?t.replace(/{body}/g,""):t.replace(/{body}/g,b.contentHtml);var l=e(".light_box_fullbg");0==l.size()?e("body").append(t+c):(e("body").append(t),l.eq(0).show()),f=e("#"+b.lightBoxId),u=e(".lb_fix"),h=e(".light_box_fullbg"),b.ajax?i.loading():(i.resize(),b.resizeshow&&e(window).resize(function(){f.filter(":visible").length<=0||i.resize()}),f.find(".lb_close").click(function(){i.close()})),b.isBgClickClose&&e(".light_box_fullbg").click(function(){i.close()})}},i.fadeout=function(){n&&n.abort(),f.fadeOut(500),h.fadeOut(500,function(){i.close()})},i.startAjax=function(e){n=e},i.buildContent=function(t){if(0==f.find(".lb_wrap").size()){var l=s.replace(/{body}/,t);b.title&&""!=b.title&&(l=l.replace(/{title}/g,'<span class="lb_title">'+b.title+"</span>")),l=""!=b.titleLinkText?l.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+b.titleLink+'" target="_blank">'+b.titleLinkText+"</a>\uff09</span>"):l.replace(/{title_link}/g,""),f.find(".lb_info").after(l).remove(),e("#"+b.lightBoxId+" .lb_close").click(function(){i.close()})}else f.find(".lb_bd").html(t);i.resize()},i.success=function(e){var t=r.replace(/{text}/,e);f.find(".lb_wrap").after(t).remove(),i.resize(),setTimeout(function(){i.fadeout()},1e3)},i.success_close=function(e,t){var l=r.replace(/{text}/,e);f.find(".lb_wrap").after(l).remove(),i.resize();var t=t||1e3;setTimeout(function(){i.close()},t)},i.fail=function(e,t){var l=d.replace(/{text}/,e);f.find(".lb_wrap").after(l).remove(),i.resize();var t=t||2e3;setTimeout(function(){i.close()},t)},i.loading=function(e){e=e||"\u8bf7\u7a0d\u540e";var t=a.replace(/{text}/,e);f.find(".lb_wrap").after(t).remove(),i.resize(),f.find(".lb_l .lb_cs").click(function(){i.close()}),i.resize()}}}(jQuery);!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pc/common/login/index",[],e):"object"==typeof exports?exports["pc/common/login/index"]=e():t["pc/common/login/index"]=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(1),r=i(2),s=i(3),o=i(4),a=i(10),h={},c="lb_login",u={init:function(){$(".light_box").remove(),this.newLightbox()},newLightbox:function(){var t={title:"\u767b\u5f55\u8611\u83c7\u8857",lightBoxId:c,contentHtml:a,scroll:!0};h=new n(t),h.init()}},l={init:function(t,e){var i=this;MOGU.Globe_Bind_Keybord_Submit("",$("#"+c+" .login_btn"),"not_need_focus"),r.CHECK.FixIe6Bug();var n=$("#lb_login");i.EventsOn(n,e),MOGU.Globe_Input_Text_Hide(n.find("input[type=text]"))},EventsOn:function(t,e){t.on("blur",'.lg_name input[name="uname"]',function(){var e,i=$(this),n=MGTOOL.trim(i.val());return""==n||n==i.attr("def-v")?!1:n==i.attr("data-lastname")?!1:(r.UI.hideError(t),e=t.find(".lg_form").hasClass("easy_buy")?2:1,r.CHECK.checkCodeIsShow(t,i,e),void i.attr("data-lastname",i.val()))}).on("focus",".lg_item input",function(){r.UI.hideError(t)}).on("click",".imgcheck_image_div,#imgcheck_code_change",function(){r.UI.hideError(t)}).on("click",".login_title a",function(){var e,i=$(this);return i.hasClass("tab_on")?!1:(""!=$("#_content").html()&&$("#_content").empty(),r.UI.hideError(t),e=i.hasClass("lo_mod")?1:2,void r.UI.turnLoginMod(t,e))}).on("click","#get_tel_code",function(){function e(){i.addClass("downing").html("\u6b63\u5728\u53d1\u9001\u2026\u2026");var e={mobile:a,captkey:$("#imgcheckcode").val()||"",captcode:$("#imgcheckvalue").val()||""};r.UI.ajaxPost(e,s.LOGIN_GET_CODE,function(e){if(1001===e.status.code)i.addClass("downing").html("\u91cd\u65b0\u53d1\u9001(60)"),r.UI.countDownStart(i,n);else if(40010003===e.status.code){r.UI.showError(t,e.status.msg),$("#lg_chk").length>0&&$("#lg_chk").remove();var s='<div id="lg_chk" class="lg_chk_item"></div>',a=t.find(".lg_remember");o.GetImgCheck(s,"#lg_chk",a,t),i.removeClass("downing").html("\u83b7\u53d6\u624b\u673a\u52a8\u6001\u5bc6\u7801")}else i.removeClass("downing").html("\u83b7\u53d6\u624b\u673a\u52a8\u6001\u5bc6\u7801"),r.UI.showError(t,e.status.msg),$(".imgCheckText").length>0&&r.CHECK.showNewImgCheck()})}var i=$(this),n=60,a=t.find(".eb_mod_box input[name='uname']").val();return!$("#get_tel_code:visible").length||i.hasClass("downing")?!1:/^1\d{10,10}$/.test(a)?$(".imgcheck_code_img_div:visible").length&&!o.isImgcodeCheck(t,r.UI.showError)?!1:void($(".imgCheckText").length>0?r.CHECK.imgcheckVerify(t,e):e()):(r.UI.showError(t,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801"),!1)}).on("click",".lg_login .sub",function(i){i.preventDefault();var n;n=t.find(".lg_form").hasClass("easy_buy")?2:1,e.Login_Light_Box=h,r.UI.submitNowForm(t,n,e,i)}),$(".ui-ot-btn").click(function(){var e=$(this),i={third:e.data("type"),platform:"pc",operScene:"login"};r.UI.ajaxPost(i,s.LOGIN_AUTHORIZE,function(e){1001==e.status.code?location.href=e.result.redirect_uri:r.UI.showError(t,e.status.msg)})})}};MOGU.user_handsome_login_init=function(){u.init()},MOGU.user_handsome_login=function(t,e){l.init(t,e)}},function(t,e){"use strict";!function(e){window.MGLightBox=function(t){var i=this,n={title:"",titleLink:"",titleLinkText:"",ajax:!1,lightBoxId:"",contentHtml:"",scroll:!1,isBgClickClose:!0,resizeshow:!0,closeCallBack:function(){}},r=null,s='<div id="{id}" class="light_box"><iframe frameborder="0" scrolling="no" class="lb_fix"></iframe>{content}</div>',o='<table class="lb_wrap clearfix r5"><tbody><tr><td><div class="lb_hd">{title}{title_link}<a href="javascript:;" class="lb_close">\xd7</a></div><div class="lb_bd">{body}</div></td></tr></tbody></table>',a='<div class="light_box_fullbg"></div>',h='<table class="lb_info r5"><tbody><tr><td><div class="lb_l">{text}......\uff08<a class="lb_cs" href="javascript:;">\u53d6\u6d88</a>\uff09</div></td></tr></tbody></table>',c='<table class="lb_info r5"><tbody><tr><td><div class="lb_s">{text}</div></td></tr></tbody></table>',u='<table class="lb_info r5"><tbody><tr><td><div class="lb_f">{text}</div></td></tr></tbody></table>',l=e.extend(n,t),f=null,p=null,d=null,g=!1,m=function(){var t=(document.documentElement.scrollTop||document.body.scrollTop)+((document.documentElement.clientHeight||document.body.clientHeight)-f.height())/2,e=window.location.toString();return 0>t?t=0:e.indexOf("is_qzone")>0&&(t/=6),t};i.getBoxFrame=function(){return f},i.getFrameId=function(){return l.lightBoxId},i.getBackground=function(){return d},i.close=function(){r&&r.abort(),f.hide(),l.closeCallBack(),f.remove(),0==e(".light_box").size()&&d.remove(),e("body").unbind("keydown")},i.hide=function(){f.hide(),d.hide(),e("body").unbind("keydown")},i.show=function(){f.show(),d.show()},i.resize=function(){var t=e(window).width(),i=(t-f.width())/2,n=m();if(p.css({width:f.width(),height:f.height()}),e.browser.msie&&"6.0"==e.browser.version&&d.css("height",document.documentElement.clientHeight||document.body.clientHeight),l.scroll)if(e.browser.msie&&"6.0"==e.browser.version)f.css({left:i,top:n}).show(),g||e(window).scroll(function(){var t=m();f.css("top",t)});else{n=((document.documentElement.clientHeight||document.body.clientHeight)-f.height())/2;var r=window.location.toString();0>n?n=0:r.indexOf("is_qzone")>0&&(n/=6),f.css({left:i,top:n,position:"fixed"}).show()}else f.css({left:i,top:n}).show()},i.init=function(){if(""!=l.lightBoxId){var t=s.replace(/{id}/g,l.lightBoxId).replace(/{content}/,o);l.title&&""!=l.title&&(t=t.replace(/{title}/g,'<span class="lb_title">'+l.title+"</span>")),t=""!=l.titleLinkText?t.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+l.titleLink+'" target="_blank">'+l.titleLinkText+"</a>\uff09</span>"):t.replace(/{title_link}/g,""),t=l.ajax?t.replace(/{body}/g,""):t.replace(/{body}/g,l.contentHtml);var n=e(".light_box_fullbg");0==n.size()?e("body").append(t+a):(e("body").append(t),n.eq(0).show()),f=e("#"+l.lightBoxId),p=e(".lb_fix"),d=e(".light_box_fullbg"),l.ajax?i.loading():(i.resize(),l.resizeshow&&e(window).resize(function(){f.filter(":visible").length<=0||i.resize()}),f.find(".lb_close").click(function(){i.close()})),l.isBgClickClose&&e(".light_box_fullbg").click(function(){i.close()})}},i.fadeout=function(){r&&r.abort(),f.fadeOut(500),d.fadeOut(500,function(){i.close()})},i.startAjax=function(t){r=t},i.buildContent=function(t){if(0==f.find(".lb_wrap").size()){var n=o.replace(/{body}/,t);l.title&&""!=l.title&&(n=n.replace(/{title}/g,'<span class="lb_title">'+l.title+"</span>")),n=""!=l.titleLinkText?n.replace(/{title_link}/g,'<span class="lb_lnk">\uff08<a href="'+l.titleLink+'" target="_blank">'+l.titleLinkText+"</a>\uff09</span>"):n.replace(/{title_link}/g,""),f.find(".lb_info").after(n).remove(),e("#"+l.lightBoxId+" .lb_close").click(function(){i.close()})}else f.find(".lb_bd").html(t);i.resize()},i.success=function(t){var e=c.replace(/{text}/,t);f.find(".lb_wrap").after(e).remove(),i.resize(),setTimeout(function(){i.fadeout()},1e3)},i.success_close=function(t,e){var n=c.replace(/{text}/,t);f.find(".lb_wrap").after(n).remove(),i.resize();var e=e||1e3;setTimeout(function(){i.close()},e)},i.fail=function(t,e){var n=u.replace(/{text}/,t);f.find(".lb_wrap").after(n).remove(),i.resize();var e=e||2e3;setTimeout(function(){i.close()},e)},i.loading=function(t){t=t||"\u8bf7\u7a0d\u540e";var e=h.replace(/{text}/,t);f.find(".lb_wrap").after(e).remove(),i.resize(),f.find(".lb_l .lb_cs").click(function(){i.close()}),i.resize()}},t.exports=MGLightBox}(jQuery)},function(t,e,i){"use strict";var n=i(3),r=i(4);i(7);var s=i(8);i(9);var o=new JSEncrypt,a={FixIe6Bug:function(){$.browser.msie&&"6.0"==$.browser.version&&document.execCommand("BackgroundImageCache",!1,!0)},imgcheckVerify:function(t,e){h.ajaxPost({probc:window.probc,probd:window.probd},"//shieldcaptain.mogujie.com/validatecap",function(i){if("SUCCESS"==i.ret)"\u8bf7\u70b9\u51fb\u56fe\u7247\u65cb\u8f6c\u81f3\u6b63\u5411\u671d\u4e0a"==t.find(".error_tip:visible").text()&&t.find(".error_tip").hide(),$("#imgcheckcode").val(window.probc),e&&"function"==typeof e&&e();else{if("FAIL"==i.ret)return h.showError(t,i.msg),a.showNewImgCheck(),!1;h.showError(t,"\u56fe\u5f62\u9a8c\u8bc1\u7801\u5f02\u5e38")}})},showNewImgCheck:function(){var t=document.getElementById("_content");""!=t.innerHTML&&(t.innerHTML=""),h.ajaxPost({},"//shieldcaptain.mogujie.com/pccap",function(e){var i='<span class="imgCheckText"></span><input type="hidden" id="imgcheckcode">'+e.dom;t.innerHTML=i,$("#_script").length>0&&$("#_script").remove();var n=document.createElement("script");n.id="_script",void 0!=n.text?n.text=e.script:n.textContent=e.script,document.body.appendChild(n)})},checkCodeIsShow:function(t,e,i){var s=function(e){if(1001==e.status.code)switch(e.result.securityLevel){case 0:$("#lg_chk").length>0&&$("#lg_chk").remove(),""!=$("#_content").html()&&$("#_content").empty();break;case 1:h.showError(t,e.result.message);break;case 2:$("#_content").empty(),$("#imgchecktype").val("old"),t.find(".mod_box").eq(i-1).attr("data-isshow","1");var n='<div id="lg_chk" class="lg_chk"></div>',s=t.find(".lg_remember");r.GetImgCheck(n,"#lg_chk",s,t);break;case 6:$("#lg_chk").length>0&&$("#lg_chk").remove(),$("#imgchecktype").val("new"),a.showNewImgCheck()}};h.ajaxPost({uname:e.val(),type:i},n.LOGIN_CONFIG,s)}},h={ajaxPost:function(t,e,i){$.ajax({url:e,type:"GET",dataType:"jsonp",data:t,success:function(t){i(t)}})},submitNowForm:function(t,e,i,h){function c(){if(2!=e){var i=t.find(".lo_mod_box"),a=i.find("input[name=uname]"),c=i.find("input[name=pass]").val();return MGTOOL.trim(a.val())==a.attr("def-v")?(p.showError(t,"\u8bf7\u8f93\u5165"+a.attr("def-v")),!1):""==MGTOOL.trim(c)?(p.showError(t,"\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801"),!1):$(".imgcheck_code_img_div:visible").length&&!r.isImgcodeCheck(t,p.showError)?!1:(l={uname:a.val(),captkey:$("#imgcheckcode").val(),captcode:$("#imgcheckvalue").val()||"",from:2,remember:d,token:window.__token,mogusecret:s.ccback(h)},f=n.LOGIN,void p.ajaxPost({},n.LOGIN_GETTOKEN,function(e){var i=t.find(".lo_mod_box"),n=i.find("input[name=pass]").val();o.setPublicKey(e.result.publicKey);var r=o.encrypt($.md5(n));l.password=r,l.passwordToken=e.result.token,p.ajaxPost(l,f,u)}))}var i=t.find(".eb_mod_box"),a=i.find("input[name=uname]"),g=MGTOOL.trim(a.val()),m=i.find("input[name='telcode']");return g==a.attr("def-v")?(p.showError(t,"\u8bf7\u8f93\u5165"+a.attr("def-v")),!1):/^1\d{10,10}$/.test(g)?MGTOOL.trim(m.val())==m.attr("def-v")?(p.showError(t,"\u8bf7\u8f93\u5165"+m.attr("def-v")),!1):(l={mobile:g,code:m.val(),captkey:$("#imgcheckcode").val(),captcode:$("#imgcheckvalue").val()||"",from:1,remember:d,mogusecret:s.ccback(h)},f=n.LOGIN_CHECK_CODE,void p.ajaxPost(l,f,u)):(p.showError(t,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801"),!1)}function u(n){var s=n.result;if(1001==n.status.code)switch(s.securityLevel){case 5:location.href="//portal.mogujie.com/user/forcebind?token="+s.bindToken;break;case 4:p.showError(t,s.toastText+'\u3002<a style="text-decoration: underline;" href="'+s.jumpUrl+'">\u53bb\u91cd\u7f6e</a>');break;case 3:location.href="//portal.mogujie.com/user/validation?pagetype=validation&code="+encodeURIComponent(s.code);break;case 0:i.Login_Light_Box.success_close("\u767b\u5f55\u6210\u529f\uff01",200),i.callback?i.callback(n.result.data):location.reload()}else if(40010001==n.status.code||40010003==n.status.code||40010004==n.status.code)if(p.showError(t,n.status.msg),"old"==$("#imgchecktype").val()){$("#lg_chk").length>0&&$("#lg_chk").remove(),t.find(".mod_box").eq(e-1).attr("data-isshow","1");var o='<div id="lg_chk" class="lg_chk_item"></div>',h=t.find(".lg_remember");r.GetImgCheck(o,"#lg_chk",h,t)}else a.showNewImgCheck();else $(".imgCheckText").length>0&&a.showNewImgCheck(),p.showError(t,n.status.msg)}var l,f,p=this;if("visible"==t.find(".error_tip").css("visibility"))return!1;var d=t.find(".lg_remember :checkbox").prop("checked");$(".imgCheckText").length>0?a.imgcheckVerify(t,c):c()},showError:function(t,e){e&&t.find(".error_tip").html(e).css("visibility","visible")},hideError:function(t){"visible"==t.find(".error_tip").css("visibility")&&t.find(".error_tip").css("visibility","hidden")},turnLoginMod:function(t,e){var i=t.find(".lg_form");1==e?(i.find(".mod_box").hide().eq(0).show(),i.removeClass("easy_buy")):2==e&&(i.find(".mod_box").hide().eq(1).show(),i.addClass("easy_buy")),1==i.find(".mod_box:visible").attr("data-isshow")?i.find(".lg_chk").show():i.find(".lg_chk").hide(),$("#lg_chk").length>0?$("#lg_chk").remove():""!==$("#_content").html()&&$("#_content").empty()},countDownStart:function(t,e){var i=this;i.timer="";var n=function r(t,e){i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){0>=e?t.html("\u91cd\u65b0\u53d1\u9001").removeClass("downing"):(e--,t.html("\u91cd\u65b0\u53d1\u9001("+e+")"),r(t,e))},"1000")};n(t,e)}};t.exports={CHECK:a,UI:h}},function(t,e){"use strict";var i={LOGIN_CONFIG:"//portal.mogujie.com/api/validate/loginconfig",CAPTCHA_GET:"//portal.mogujie.com/api/validate/captcha/get",LOGIN:"//portal.mogujie.com/api/login/login",CANLOGINBYCODE:"//portal.mogujie.com/api/login/canloginbycode",LOGIN_GET_CODE:"//portal.mogujie.com/api/login/getcode",LOGIN_CHECK_CODE:"//portal.mogujie.com/api/login/checkcode",LOGIN_AUTHORIZE:"//portal.mogujie.com/api/oauth/login/authorize",LOGIN_GETTOKEN:"//portal.mogujie.com/api/security/getToken"};t.exports=i},function(t,e,i){"use strict";var n=i(5),r=i(6),s=i(3),o={FixIe6Bug:function(){$.browser.msie&&"6.0"==$.browser.version&&document.execCommand("BackgroundImageCache",!1,!0)},GetImgCheck:function(t,e,i,o){return $(e).length>0?(o.find("#lg_chk").show(),r.imgCaptchaRecaptcha(),!1):(i.before(t),void $.ajax({url:s.CAPTCHA_GET,type:"GET",dataType:"jsonp"}).then(function(t){if(1001==t.status.code){var i=MoGu.ui.getTemplate(n,t.result);setTimeout(function(){$(e).html(i).css("opacity",0).animate({opacity:1},1e3),$(".lg_chk").show(),r.imgCaptchaInit()},0)}else $(e).remove()}))},RemoveImgCheck:function(){$("#lg_chk").remove()},isImgcodeCheck:function(t,e){var i=!0;if(r.imgCodeCheck()){var n=[];$(".img_code_spin").each(function(t,e){var i=$(e).val();n.push(i)}),$("#imgcheckvalue").val(n.join("_"))}else e?e(t,"\u8bf7\u70b9\u51fb\u56fe\u7247\u65cb\u8f6c\u81f3\u6b63\u5411\u671d\u4e0a"):MOGU.alert("\u8bf7\u70b9\u51fb\u56fe\u7247\u65cb\u8f6c\u81f3\u6b63\u5411\u671d\u4e0a"),i=!1;return i}};t.exports=$.extend(o,r)},function(t,e){t.exports='<div class="imgcheck_code_main clearfix">\n  <span class="notice">\u8bf7\u70b9\u51fb\u56fe\u7247\u65cb\u8f6c\u81f3\u6b63\u5411\u671d\u4e0a</span>\n  <a href="javascript:void(0);" id="imgcheck_code_change" style="float: none">\u6362\u4e00\u7ec4</a>\n  <div class="imgcheck_code_img_div" onselectstart="return false">\n    <input type="hidden" value="{{= it.code}}" id="imgcheckcode">\n\n    <div class="imgcheck_image_div" f="0" style="background:url(//portal.mogujie.com/api/validate/captcha/{{= it.code}}) no-repeat; background-position: 0px 0;" ></div>\n    <input type="hidden" class="img_code_spin" id="img_code_spin_0" name="check[]" value="0" autocomplete="off">\n\n    <div class="imgcheck_image_div" f="1" style="background:url(//portal.mogujie.com/api/validate/captcha/{{= it.code}}) no-repeat; background-position: -75px 0;" ></div>\n    <input type="hidden" class="img_code_spin" id="img_code_spin_1" name="check[]" value="0" autocomplete="off">\n\n    <div class="imgcheck_image_div" f="2" style="background:url(//portal.mogujie.com/api/validate/captcha/{{= it.code}}) no-repeat; background-position: -150px 0;" ></div>\n    <input type="hidden" class="img_code_spin" id="img_code_spin_2" name="check[]" value="0" autocomplete="off">\n\n    <div class="imgcheck_image_div" f="3" style="background:url(//portal.mogujie.com/api/validate/captcha/{{= it.code}}) no-repeat; background-position: -225px 0;" ></div>\n    <input type="hidden" class="img_code_spin" id="img_code_spin_3" name="check[]" value="0" autocomplete="off">\n  </div>\n</div>\n'},function(t,e,i){"use strict";var n=i(3),r={};r.imgCodeCheck=function(){var t=!1,e=$(".img_code_spin");if(0==e.length)return t=!0;for(var i=0;i<e.length;i++){var n=$(e[i]);if(0!=n.val()){t=!0;break}}return t};var s=function(t){var e=t.parents(".validateitem").find(".tips"),i=t.parents(".ui-option-main-box").find(".error_tip");e&&e.length>0&&e.is(":visible")&&e.remove(),i&&i.length>0&&i.is(":visible")&&i.html("")};r.imgCaptchaInit=function(){var t=$(".imgcheck_image_div"),e=$("#imgcheck_code_change"),i=function(t,e){var i=-75*((e+1)%4),n=t[0].style.backgroundPosition.split(" ");t[0].style.backgroundPosition=n[0]+" "+i+"px"};t.click(function(){s($(this));var t=$(this).attr("f"),e=$("#img_code_spin_"+t),n=parseInt(e.val());i($(this),n),e.val(n+1)}),e.click(function(){s($(this)),r.imgCaptchaRecaptcha()})},r.imgCaptchaRecaptcha=function(t){var e=function(t){for(var e=$(".imgcheck_image_div"),i=e.length,n=0;i>n;n++){var r=e[n],s=r.getAttribute("f"),o=$("#img_code_spin_"+s);o.val(0);var a=$(r);a.css("background-image","url(//portal.mogujie.com/api/validate/captcha/"+t+")"),a.css({"background-position":-75*n+"px 0"})}$("#imgcheckcode").val(t)};void 0===t?$.ajax({url:n.CAPTCHA_GET,type:"get",timeout:6e4,data:{},dataType:"jsonp",cache:!1,success:function(t){var i=t.status.code;t.status.msg;if(1001==i){var n=t.result.code;e(n)}},error:function(t,e,i){"timeout"==e&&MOGU.alert(MGLANG.msgTimeout)}}):setTimeout(function(){e(t)},1)},r.imgCaptchaInit(),t.exports=r},function(t,e){"use strict";var i=function(t,e){return t<<e|t>>>32-e},n=function(t,e){var i,n,r,s,o;return r=2147483648&t,s=2147483648&e,i=1073741824&t,n=1073741824&e,o=(1073741823&t)+(1073741823&e),i&n?2147483648^o^r^s:i|n?1073741824&o?3221225472^o^r^s:1073741824^o^r^s:o^r^s},r=function(t,e,i){return t&e|~t&i},s=function(t,e,i){return t&i|e&~i},o=function(t,e,i){return t^e^i},a=function(t,e,i){return e^(t|~i)},h=function(t,e,s,o,a,h,c){return t=n(t,n(n(r(e,s,o),a),c)),n(i(t,h),e)},c=function(t,e,r,o,a,h,c){return t=n(t,n(n(s(e,r,o),a),c)),n(i(t,h),e)},u=function(t,e,r,s,a,h,c){return t=n(t,n(n(o(e,r,s),a),c)),n(i(t,h),e)},l=function(t,e,r,s,o,h,c){return t=n(t,n(n(a(e,r,s),o),c)),n(i(t,h),e)},f=function(t){for(var e,i=t.length,n=i+8,r=(n-n%64)/64,s=16*(r+1),o=Array(s-1),a=0,h=0;i>h;)e=(h-h%4)/4,a=h%4*8,o[e]=o[e]|t.charCodeAt(h)<<a,h++;return e=(h-h%4)/4,a=h%4*8,o[e]=o[e]|128<<a,o[s-2]=i<<3,o[s-1]=i>>>29,o},p=function(t){var e,i,n="",r="";for(i=0;3>=i;i++)e=t>>>8*i&255,r="0"+e.toString(16),n+=r.substr(r.length-2,2);return n},d=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e};$.extend({md5:function(t){var e,i,r,s,o,a,g,m,v,b=Array(),y=7,T=12,w=17,x=22,S=5,_=9,E=14,R=20,D=4,k=11,C=16,O=23,A=6,B=10,I=15,U=21;for(t=d(t),b=f(t),a=1732584193,g=4023233417,m=2562383102,v=271733878,e=0;e<b.length;e+=16)i=a,r=g,s=m,o=v,a=h(a,g,m,v,b[e+0],y,3614090360),v=h(v,a,g,m,b[e+1],T,3905402710),m=h(m,v,a,g,b[e+2],w,606105819),g=h(g,m,v,a,b[e+3],x,3250441966),a=h(a,g,m,v,b[e+4],y,4118548399),v=h(v,a,g,m,b[e+5],T,1200080426),m=h(m,v,a,g,b[e+6],w,2821735955),g=h(g,m,v,a,b[e+7],x,4249261313),a=h(a,g,m,v,b[e+8],y,1770035416),v=h(v,a,g,m,b[e+9],T,2336552879),m=h(m,v,a,g,b[e+10],w,4294925233),g=h(g,m,v,a,b[e+11],x,2304563134),a=h(a,g,m,v,b[e+12],y,1804603682),v=h(v,a,g,m,b[e+13],T,4254626195),m=h(m,v,a,g,b[e+14],w,2792965006),g=h(g,m,v,a,b[e+15],x,1236535329),a=c(a,g,m,v,b[e+1],S,4129170786),v=c(v,a,g,m,b[e+6],_,3225465664),m=c(m,v,a,g,b[e+11],E,643717713),g=c(g,m,v,a,b[e+0],R,3921069994),a=c(a,g,m,v,b[e+5],S,3593408605),v=c(v,a,g,m,b[e+10],_,38016083),m=c(m,v,a,g,b[e+15],E,3634488961),g=c(g,m,v,a,b[e+4],R,3889429448),a=c(a,g,m,v,b[e+9],S,568446438),v=c(v,a,g,m,b[e+14],_,3275163606),m=c(m,v,a,g,b[e+3],E,4107603335),g=c(g,m,v,a,b[e+8],R,1163531501),a=c(a,g,m,v,b[e+13],S,2850285829),v=c(v,a,g,m,b[e+2],_,4243563512),m=c(m,v,a,g,b[e+7],E,1735328473),g=c(g,m,v,a,b[e+12],R,2368359562),a=u(a,g,m,v,b[e+5],D,4294588738),v=u(v,a,g,m,b[e+8],k,2272392833),m=u(m,v,a,g,b[e+11],C,1839030562),g=u(g,m,v,a,b[e+14],O,4259657740),a=u(a,g,m,v,b[e+1],D,2763975236),v=u(v,a,g,m,b[e+4],k,1272893353),m=u(m,v,a,g,b[e+7],C,4139469664),g=u(g,m,v,a,b[e+10],O,3200236656),a=u(a,g,m,v,b[e+13],D,681279174),v=u(v,a,g,m,b[e+0],k,3936430074),m=u(m,v,a,g,b[e+3],C,3572445317),g=u(g,m,v,a,b[e+6],O,76029189),a=u(a,g,m,v,b[e+9],D,3654602809),v=u(v,a,g,m,b[e+12],k,3873151461),m=u(m,v,a,g,b[e+15],C,530742520),g=u(g,m,v,a,b[e+2],O,3299628645),a=l(a,g,m,v,b[e+0],A,4096336452),v=l(v,a,g,m,b[e+7],B,1126891415),m=l(m,v,a,g,b[e+14],I,2878612391),g=l(g,m,v,a,b[e+5],U,4237533241),a=l(a,g,m,v,b[e+12],A,1700485571),v=l(v,a,g,m,b[e+3],B,2399980690),m=l(m,v,a,g,b[e+10],I,4293915773),g=l(g,m,v,a,b[e+1],U,2240044497),a=l(a,g,m,v,b[e+8],A,1873313359),v=l(v,a,g,m,b[e+15],B,4264355552),m=l(m,v,a,g,b[e+6],I,2734768916),g=l(g,m,v,a,b[e+13],U,1309151649),a=l(a,g,m,v,b[e+4],A,4149444226),v=l(v,a,g,m,b[e+11],B,3174756917),m=l(m,v,a,g,b[e+2],I,718787259),g=l(g,m,v,a,b[e+9],U,3951481745),a=n(a,i),g=n(g,r),m=n(m,s),v=n(v,o);var K=p(a)+p(g)+p(m)+p(v);return K.toLowerCase()}})},function(t,e,i){"use strict";var n={ccback:function(t){function e(t){t.s=t.s+t.t}function i(t){E+=t}function n(t,e,i){if(-1==I&&(I=e/2),1!=e)if(e==I+1)if(0>i){var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r-1),S.ab("zq",t),n(t,e-1,i)}else{var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r+1),S.ab("zq",t),n(t,e-1,i)}else if(I+1>e)if(0>i){var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r+2),S.ab("zq",t),n(t,e-1,i)}else{var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r-2),S.ab("zq",t),n(t,e-1,i)}else if(0>i){var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r-2),S.ab("zq",t),n(t,e-1,i)}else{var r=t.s.charCodeAt(t.s.length-1);t.t=String.fromCharCode(r+2),S.ab("zq",t),n(t,e-1,i)}}function r(){this.name="bat",this.tt=4,this.q={},this.HA=function(){this.name="tabd",this.tt+=1,this.q.ab=124,this.q.ab+=291,S.t1=y;var t={};return t.qP=function(t){S.t1-=t},t.Qr=function(t){S.t1+=t},t.Jk=function(t){var e=11,i=t<<4,n=t>>>16-e,r=(i^n)>>>0,s=r+t&4294967295;return s>>>0},t.tt=911511,t}}function s(t,e,i){for(var n=t,r="",s=0;e>s;s++){n+=6;var o=i>>>32-n;o=63&o,r+=M.tz[x](o)}return r}function o(t){A[0]=String.fromCharCode(Math.floor(16*Math.random())+t)}function a(t,e){t.t=e}function h(){M.ab("jjt",65);var t="";t+=s(0,5,S.ls[1]);var e=(3&S.ls[1])<<4|S.ls[2]>>>28;return t+=M.tz[x](e),t+=s(4,4,S.ls[2]),e=(15&S.ls[2])<<2|S.ls[3]>>>30,t+=M.tz[x](e),t+=s(2,5,S.ls[3]),t+=s(0,5,S.ls[4]),e=(3&S.ls[4])<<4|2*Math.floor(4*Math.random()),t+=M.tz[x](e),S.zA=A[0]+t,t}function c(t,e,i){for(var n=e[0],r=e[1],s=0,o=0;t>o;o++)n+=(H.Jk(r)^s+i[3&s])>>>0,n=(4294967295&n)>>>0,s=(s+S.t1&4294967295)>>>0,r+=(H.Jk(n)^s+i[s>>11&3])>>>0,r=(4294967295&r)>>>0;e[0]=n,e[1]=r}function u(t){function e(t){return t.toString(16).toUpperCase()}if(null==t||""==t)return"";var i="";O+="pe",m+="en";for(var n,r=0,s=t.length;s>r;r++)n=t.charCodeAt(r),16>n?i+="%0"+n.toString(16).toUpperCase():128>n?i+=32==n?"+":n>=48&&57>=n||n>=65&&90>=n||n>=97&&122>=n?t.charAt(r):"%"+e(n):2048>n?(i+="%"+e(192+(n>>6)),i+="%"+e(128+n%64)):(i+="%"+e(224+(n>>12)),i+="%"+e(128+(n>>6)%64),i+="%"+e(128+n%64));return i}var l,f=10,p={s:"",t:""},d="tlitj",g="app";if(function(){l="zac"}(),10==f)var m="hi",v="i";var b="",y=function(){function t(t){e=291}for(var e=2041507,i=0;8>i;i++)e+=291;return t(e),l+="exime",e>44084?e+62-2+291+1406985:e-62-5347-9-1560}(),T="tdd",w="va",x="ch";l=l.replace("z","D");var S=function(){var t={};t.tt=8;var e={};return t.ab=function(t,i){if(e[t]){for(var n=e[t],r=n.length;r--;)n[r].qq(i);return this}},t.ba=function(t,i){e[t]=e[t]?e[t]:[],e[t].push({tt:10,qq:i})},t}(),_="an";l=l.replace("c","t"),w+="zue",x+="vrAt",T=T.replace("t","a");var E="gmt";f="cr",S.zA="",y+=10449;var R=12,D={r1:137,hj:function(t){return R+t},v:2,w:function(){function t(){R="window"}t()}};m+="dd",D.w(),S.ib=g,b="senAnn",f.replace("c","z"),S.re="am".replace;w.replace("z","l");d=S.re.call(d,/t/g,"c");var k=function(){var t=123,e=t+255;return e&=15,t=window,e>25&&(t+="pt"),t};T+="gvbnt";var C={ab:9,ll:function(){return ab+"abc"}};f={s:"",t:""},b+="ribune",l=S.re.call(l,"x","T");var O="ty",A=[0];d=S.re.call(d,"j","k");var B="lb_crnvenv";C.x=1,S.SO=function(t){S.t1*=t},p.s="z",S.oQ=e;var I=-1;f.s="cre",T+="Listbnbr",C.m=k,b=S.re.call(b,/n/g,"t");var U={s:800,t:11},K={};!function G(t){1!=t&&(t>5?A.push(t*t*t*t+16668304):A.push(t*t+16),G(t-1))}(11),S.ls=A,K.s="cli",f.t="ate",S.kp=b,T=T.replace("g","E"),K.t="ent",x=S.re.call(x,"v","a"),A[0]=Math.floor(16*Math.random())+65,S.ba("zq",S.oQ),S.ab("zq",f),n(p,26,-10),U.t+=100,p.s=p.s+"0",S.ba("JK",i),A[0]=String.fromCharCode(A[0]),I=-1,n(p,10,5);var N=3,V="bvbnt";T=T.replace(/b/g,"e"),function(){B=B.replace("r","o"),S.eb=n,I=-1,S.wq=p}(),r.prototype=S;var M=new r;M.ba("Ma",S.SO);var L=[-1,-2,-4,-8],J=[100,10];N+=1,S.ba("jjt",o),D.v=C.m.apply(),M.wq.s+=String.fromCharCode(43),V=M.re.call(V,/b/g,"e"),S.wq.s+="/Z";var q={};!function(){B=M.re.call(B,/v/g,"t"),B=M.re.call(B,"b","g")}();var P="cmass";_+="zizo";(function(){var t={};return t.v1=123,t.ff=function(t){return t/=2,t-2},t.ff(t.v1),J.push(D.v),t})();q.s="si",J.push(J[2].document),E=E.replace("m","e");var j="intex",H=M.HA();S.ab("zq",U),q.t="gnfo",P=P.replace("m","l"),M.ab("Ma",1231458),S.eb(S.wq,26,-74),S.t1=M.t1/2+338063271,j=M.re.call(j,"t","d");var $=new r;M.tz=S.wq.s,M.ib+="end",$.bn=K,j+="Of",v+="npzt",g="Ch",M.ib+=g+"ild",$.Oz=h;var z=B.substring(0,3);v=$.re.call(v,"z","u"),z=$.re.call(z,"l","r"),M.ab("JK","Element"),$.ab("zq",K),S.ab("zq",q),a(K,"X"),$.ii=E+"ById",f.t=$.ii.substring(3,10),z+="suz",S.gw=c,M.ab("JK","sByTagName"),z=S.re.call(z,"z","b"),P+="Name",$.ab("zq",f),z+="mit",S.ab("zq",$.bn),D.gc=function(t,e){for(var i=t[E]("*"),n=0;n<i.length;n++)if(-1!=i[n][P][j](e))return i[n];return null},$.bn.t=$.bn.s.substring(0,6)+"Y";u("dxjhdM5c"),$.re.call(_,/z/g,"t");return S.GM=function(t){t=t||J[2][V],A[1]=Math.round((new(J[2][l.substring(0,4)]))["get"+l.substring(4)]()/1e3),A[2]=t[$.bn.s],A[3]=t[$.bn.t],A[N]=Math.floor(5209*Math.random()*271)*U.s;var e=[A[1],A[2]],i=[A[3],A[4]];M.gw(A[7],e,L),M.gw(A[9],i,L);for(var n=A[4],r=1;5>r;r++)3>r?A[r]=e[r-1]:A[r]=i[r-3];$.Oz(),A[4]=n},$.Gl=D.v.eci,M.GM(t),c(50,J,L),$.zA}};t.exports=n},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n={};!function(t){function e(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new e(null)}function r(t,e,i,n,r,s){for(;--s>=0;){var o=e*this[t++]+i[n]+r;r=Math.floor(o/67108864),i[n++]=67108863&o}return r}function s(t,e,i,n,r,s){for(var o=32767&e,a=e>>15;--s>=0;){var h=32767&this[t],c=this[t++]>>15,u=a*h+c*o;h=o*h+((32767&u)<<15)+i[n]+(1073741823&r),r=(h>>>30)+(u>>>15)+a*c+(r>>>30),i[n++]=1073741823&h}return r}function o(t,e,i,n,r,s){for(var o=16383&e,a=e>>14;--s>=0;){var h=16383&this[t],c=this[t++]>>14,u=a*h+c*o;h=o*h+((16383&u)<<14)+i[n]+r,r=(h>>28)+(u>>14)+a*c,i[n++]=268435455&h}return r}function a(t){return ke.charAt(t)}function h(t,e){var i=Ce[t.charCodeAt(e)];return null==i?-1:i}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function l(t){var e=n();return e.fromInt(t),e}function f(t,i){var n;if(16==i)n=4;else if(8==i)n=3;else if(256==i)n=8;else if(2==i)n=1;else if(32==i)n=5;else{if(4!=i)return void this.fromRadix(t,i);n=2}this.t=0,this.s=0;for(var r=t.length,s=!1,o=0;--r>=0;){var a=8==n?255&t[r]:h(t,r);0>a?"-"==t.charAt(r)&&(s=!0):(s=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&e.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,n=(1<<e)-1,r=!1,s="",o=this.t,h=this.DB-o*this.DB%e;if(o-- >0)for(h<this.DB&&(i=this[o]>>h)>0&&(r=!0,s=a(i));o>=0;)e>h?(i=(this[o]&(1<<h)-1)<<e-h,i|=this[--o]>>(h+=this.DB-e)):(i=this[o]>>(h-=e)&n,0>=h&&(h+=this.DB,--o)),i>0&&(r=!0),r&&(s+=a(i));return r?s:"0"}function g(){var t=n();return e.ZERO.subTo(this,t),t}function m(){return this.s<0?this.negate():this}function b(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(e=i-t.t,0!=e)return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function y(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function T(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function w(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s}function S(t,e){var i,n=t%this.DB,r=this.DB-n,s=(1<<r)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)e[i+o+1]=this[i]>>r|a,a=(this[i]&s)<<n;for(i=o-1;i>=0;--i)e[i]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function _(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)return void(e.t=0);var n=t%this.DB,r=this.DB-n,s=(1<<n)-1;e[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)e[o-i-1]|=(this[o]&s)<<r,e[o-i]=this[o]>>n;n>0&&(e[this.t-i-1]|=(this.s&s)<<r),e.t=this.t-i,e.clamp()}function E(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);r>i;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=0>n?-1:0,-1>n?e[i++]=this.DV+n:n>0&&(e[i++]=n),e.t=i,e.clamp()}function R(t,i){var n=this.abs(),r=t.abs(),s=n.t;for(i.t=s+r.t;--s>=0;)i[s]=0;for(s=0;s<r.t;++s)i[s+n.t]=n.am(0,r[s],i,s,0,n.t);i.s=0,i.clamp(),this.s!=t.s&&e.ZERO.subTo(i,i)}function D(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()}function k(t,i,r){var s=t.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var a=n(),h=this.s,c=t.s,u=this.DB-y(s[s.t-1]);u>0?(s.lShiftTo(u,a),o.lShiftTo(u,r)):(s.copyTo(a),o.copyTo(r));var l=a.t,f=a[l-1];if(0!=f){var p=f*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),d=this.FV/p,g=(1<<this.F1)/p,m=1<<this.F2,v=r.t,b=v-l,T=null==i?n():i;for(a.dlShiftTo(b,T),r.compareTo(T)>=0&&(r[r.t++]=1,r.subTo(T,r)),e.ONE.dlShiftTo(l,T),T.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--b>=0;){var w=r[--v]==f?this.DM:Math.floor(r[v]*d+(r[v-1]+m)*g);if((r[v]+=a.am(0,w,r,b,0,l))<w)for(a.dlShiftTo(b,T),r.subTo(T,r);r[v]<--w;)r.subTo(T,r)}null!=i&&(r.drShiftTo(l,i),h!=c&&e.ZERO.subTo(i,i)),r.t=l,r.clamp(),u>0&&r.rShiftTo(u,r),0>h&&e.ZERO.subTo(r,r)}}}function C(t){var i=n();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i}function O(t){this.m=t}function A(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function B(t){return t;
}function I(t){t.divRemTo(this.m,null,t)}function U(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function K(t,e){t.squareTo(e),this.reduce(e)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function V(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function M(t){var i=n();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function L(t){var e=n();return t.copyTo(e),this.reduce(e),e}function J(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=e+this.m.t,t[i]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function q(t,e){t.squareTo(e),this.reduce(e)}function P(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function j(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,i){if(t>4294967295||1>t)return e.ONE;var r=n(),s=n(),o=i.convert(this),a=y(t)-1;for(o.copyTo(r);--a>=0;)if(i.sqrTo(r,s),(t&1<<a)>0)i.mulTo(s,o,r);else{var h=r;r=s,s=h}return i.revert(r)}function $(t,e){var i;return i=256>t||e.isEven()?new O(e):new V(e),this.exp(t,i)}function z(){var t=n();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function F(){return 0==this.t?this.s:this[0]<<24>>24}function Z(){return 0==this.t?this.s:this[0]<<16>>16}function Y(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),r=l(i),s=n(),o=n(),a="";for(this.divRemTo(r,s,o);s.signum()>0;)a=(i+o.intValue()).toString(t).substr(1)+a,s.divRemTo(r,s,o);return o.intValue().toString(t)+a}function X(t,i){this.fromInt(0),null==i&&(i=10);for(var n=this.chunkSize(i),r=Math.pow(i,n),s=!1,o=0,a=0,c=0;c<t.length;++c){var u=h(t,c);0>u?"-"==t.charAt(c)&&0==this.signum()&&(s=!0):(a=i*a+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(i,o)),this.dAddOffset(a,0)),s&&e.ZERO.subTo(this,this)}function tt(t,i,n){if("number"==typeof i)if(2>t)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ht,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var r=new Array,s=7&t;r.length=(t>>3)+1,i.nextBytes(r),s>0?r[0]&=(1<<s)-1:r[0]=0,this.fromString(r,256)}}function et(){var t=this.t,e=new Array;e[0]=this.s;var i,n=this.DB-t*this.DB%8,r=0;if(t-- >0)for(n<this.DB&&(i=this[t]>>n)!=(this.s&this.DM)>>n&&(e[r++]=i|this.s<<this.DB-n);t>=0;)8>n?(i=(this[t]&(1<<n)-1)<<8-n,i|=this[--t]>>(n+=this.DB-8)):(i=this[t]>>(n-=8)&255,0>=n&&(n+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(e[r++]=i);return e}function it(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function rt(t){return this.compareTo(t)>0?this:t}function st(t,e,i){var n,r,s=Math.min(t.t,this.t);for(n=0;s>n;++n)i[n]=e(this[n],t[n]);if(t.t<this.t){for(r=t.s&this.DM,n=s;n<this.t;++n)i[n]=e(this[n],r);i.t=this.t}else{for(r=this.s&this.DM,n=s;n<t.t;++n)i[n]=e(r,t[n]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()}function ot(t,e){return t&e}function at(t){var e=n();return this.bitwiseTo(t,ot,e),e}function ht(t,e){return t|e}function ct(t){var e=n();return this.bitwiseTo(t,ht,e),e}function ut(t,e){return t^e}function lt(t){var e=n();return this.bitwiseTo(t,ut,e),e}function ft(t,e){return t&~e}function pt(t){var e=n();return this.bitwiseTo(t,ft,e),e}function dt(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function gt(t){var e=n();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function mt(t){var e=n();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function vt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function bt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+vt(this[t]);return this.s<0?this.t*this.DB:-1}function yt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function Tt(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=yt(this[i]^e);return t}function wt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,i){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,i,n),n}function St(t){return this.changeBit(t,ht)}function _t(t){return this.changeBit(t,ft)}function Et(t){return this.changeBit(t,ut)}function Rt(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);r>i;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=0>n?-1:0,n>0?e[i++]=n:-1>n&&(e[i++]=this.DV+n),e.t=i,e.clamp()}function Dt(t){var e=n();return this.addTo(t,e),e}function kt(t){var e=n();return this.subTo(t,e),e}function Ct(t){var e=n();return this.multiplyTo(t,e),e}function Ot(){var t=n();return this.squareTo(t),t}function At(t){var e=n();return this.divRemTo(t,e,null),e}function Bt(t){var e=n();return this.divRemTo(t,null,e),e}function It(t){var e=n(),i=n();return this.divRemTo(t,e,i),new Array(e,i)}function Ut(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Kt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Nt(){}function Vt(t){return t}function Mt(t,e,i){t.multiplyTo(e,i)}function Lt(t,e){t.squareTo(e)}function Jt(t){return this.exp(t,new Nt)}function qt(t,e,i){var n=Math.min(this.t+t.t,e);for(i.s=0,i.t=n;n>0;)i[--n]=0;var r;for(r=i.t-this.t;r>n;++n)i[n+this.t]=this.am(0,t[n],i,n,0,this.t);for(r=Math.min(t.t,e);r>n;++n)this.am(0,t[n],i,n,0,e-n);i.clamp()}function Pt(t,e,i){--e;var n=i.t=this.t+t.t-e;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)}function jt(t){this.r2=n(),this.q3=n(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Ht(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function $t(t){return t}function zt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Gt(t,e){t.squareTo(e),this.reduce(e)}function Ft(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function Zt(t,e){var i,r,s=t.bitLength(),o=l(1);if(0>=s)return o;i=18>s?1:48>s?3:144>s?4:768>s?5:6,r=8>s?new O(e):e.isEven()?new jt(e):new V(e);var a=new Array,h=3,c=i-1,u=(1<<i)-1;if(a[1]=r.convert(this),i>1){var f=n();for(r.sqrTo(a[1],f);u>=h;)a[h]=n(),r.mulTo(f,a[h-2],a[h]),h+=2}var p,d,g=t.t-1,m=!0,v=n();for(s=y(t[g])-1;g>=0;){for(s>=c?p=t[g]>>s-c&u:(p=(t[g]&(1<<s+1)-1)<<c-s,g>0&&(p|=t[g-1]>>this.DB+s-c)),h=i;0==(1&p);)p>>=1,--h;if((s-=h)<0&&(s+=this.DB,--g),m)a[p].copyTo(o),m=!1;else{for(;h>1;)r.sqrTo(o,v),r.sqrTo(v,o),h-=2;h>0?r.sqrTo(o,v):(d=o,o=v,v=d),r.mulTo(v,a[p],o)}for(;g>=0&&0==(t[g]&1<<s);)r.sqrTo(o,v),d=o,o=v,v=d,--s<0&&(s=this.DB-1,--g)}return r.revert(o)}function Yt(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var n=e;e=i,i=n}var r=e.getLowestSetBit(),s=i.getLowestSetBit();if(0>s)return e;for(s>r&&(s=r),s>0&&(e.rShiftTo(s,e),i.rShiftTo(s,i));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return s>0&&i.lShiftTo(s,i),i}function Qt(t){if(0>=t)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==e)i=this[0]%t;else for(var n=this.t-1;n>=0;--n)i=(e*i+this[n])%t;return i}function Wt(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return e.ZERO;for(var n=t.clone(),r=this.clone(),s=l(1),o=l(0),a=l(0),h=l(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),i?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),i?(a.isEven()&&h.isEven()||(a.addTo(this,a),h.subTo(t,h)),a.rShiftTo(1,a)):h.isEven()||h.subTo(t,h),h.rShiftTo(1,h);n.compareTo(r)>=0?(n.subTo(r,n),i&&s.subTo(a,s),o.subTo(h,o)):(r.subTo(n,r),i&&a.subTo(s,a),h.subTo(o,h))}return 0!=r.compareTo(e.ONE)?e.ZERO:h.compareTo(t)>=0?h.subtract(t):h.signum()<0?(h.addTo(t,h),h.signum()<0?h.add(t):h):h}function Xt(t){var e,i=this.abs();if(1==i.t&&i[0]<=Oe[Oe.length-1]){for(e=0;e<Oe.length;++e)if(i[0]==Oe[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<Oe.length;){for(var n=Oe[e],r=e+1;r<Oe.length&&Ae>n;)n*=Oe[r++];for(n=i.modInt(n);r>e;)if(n%Oe[e++]==0)return!1}return i.millerRabin(t)}function te(t){var i=this.subtract(e.ONE),r=i.getLowestSetBit();if(0>=r)return!1;var s=i.shiftRight(r);t=t+1>>1,t>Oe.length&&(t=Oe.length);for(var o=n(),a=0;t>a;++a){o.fromInt(Oe[Math.floor(Math.random()*Oe.length)]);var h=o.modPow(s,this);if(0!=h.compareTo(e.ONE)&&0!=h.compareTo(i)){for(var c=1;c++<r&&0!=h.compareTo(i);)if(h=h.modPowInt(2,this),0==h.compareTo(e.ONE))return!1;if(0!=h.compareTo(i))return!1}}return!0}function ee(){this.i=0,this.j=0,this.S=new Array}function ie(t){var e,i,n;for(e=0;256>e;++e)this.S[e]=e;for(i=0,e=0;256>e;++e)i=i+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[i],this.S[i]=n;this.i=0,this.j=0}function ne(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function re(){return new ee}function se(){if(null==Be){for(Be=re();Ke>Ue;){var t=Math.floor(65536*Math.random());Ie[Ue++]=255&t}for(Be.init(Ie),Ue=0;Ue<Ie.length;++Ue)Ie[Ue]=0;Ue=0}return Be.next()}function oe(t){var e;for(e=0;e<t.length;++e)t[e]=se()}function ae(){}function he(t,i){return new e(t,i)}function ce(t,i){if(i<t.length+11)return console.error("Message too long for RSA"),null;for(var n=new Array,r=t.length-1;r>=0&&i>0;){var s=t.charCodeAt(r--);128>s?n[--i]=s:s>127&&2048>s?(n[--i]=63&s|128,n[--i]=s>>6|192):(n[--i]=63&s|128,n[--i]=s>>6&63|128,n[--i]=s>>12|224)}n[--i]=0;for(var o=new ae,a=new Array;i>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--i]=a[0]}return n[--i]=2,n[--i]=0,new e(n)}function ue(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function le(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=he(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")}function fe(t){return t.modPowInt(this.e,this.n)}function pe(t){var e=ce(t,this.n.bitLength()+7>>3);if(null==e)return null;var i=this.doPublic(e);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n}function de(t,e){for(var i=t.toByteArray(),n=0;n<i.length&&0==i[n];)++n;if(i.length-n!=e-1||2!=i[n])return null;for(++n;0!=i[n];)if(++n>=i.length)return null;for(var r="";++n<i.length;){var s=255&i[n];128>s?r+=String.fromCharCode(s):s>191&&224>s?(r+=String.fromCharCode((31&s)<<6|63&i[n+1]),++n):(r+=String.fromCharCode((15&s)<<12|(63&i[n+1])<<6|63&i[n+2]),n+=2)}return r}function ge(t,e,i){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=he(t,16),this.e=parseInt(e,16),this.d=he(i,16)):console.error("Invalid RSA private key")}function me(t,e,i,n,r,s,o,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=he(t,16),this.e=parseInt(e,16),this.d=he(i,16),this.p=he(n,16),this.q=he(r,16),this.dmp1=he(s,16),this.dmq1=he(o,16),this.coeff=he(a,16)):console.error("Invalid RSA private key")}function ve(t,i){var n=new ae,r=t>>1;this.e=parseInt(i,16);for(var s=new e(i,16);;){for(;this.p=new e(t-r,1,n),0!=this.p.subtract(e.ONE).gcd(s).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(r,1,n),0!=this.q.subtract(e.ONE).gcd(s).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(e.ONE),h=this.q.subtract(e.ONE),c=a.multiply(h);if(0==c.gcd(s).compareTo(e.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}}function be(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}function ye(t){var e=he(t,16),i=this.doPrivate(e);return null==i?null:de(i,this.n.bitLength()+7>>3)}function Te(t){var e,i,n="";for(e=0;e+3<=t.length;e+=3)i=parseInt(t.substring(e,e+3),16),n+=Le.charAt(i>>6)+Le.charAt(63&i);for(e+1==t.length?(i=parseInt(t.substring(e,e+1),16),n+=Le.charAt(i<<2)):e+2==t.length&&(i=parseInt(t.substring(e,e+2),16),n+=Le.charAt(i>>2)+Le.charAt((3&i)<<4));(3&n.length)>0;)n+=Je;return n}function we(t){var e,i,n="",r=0;for(e=0;e<t.length&&t.charAt(e)!=Je;++e)v=Le.indexOf(t.charAt(e)),v<0||(0==r?(n+=a(v>>2),i=3&v,r=1):1==r?(n+=a(i<<2|v>>4),i=15&v,r=2):2==r?(n+=a(i),n+=a(v>>2),i=3&v,r=3):(n+=a(i<<2|v>>4),n+=a(15&v),r=0));return 1==r&&(n+=a(i<<2)),n}var xe,Se=0xdeadbeefcafe,_e=15715070==(16777215&Se);_e&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=s,xe=30):_e&&"Netscape"!=navigator.appName?(e.prototype.am=r,xe=26):(e.prototype.am=o,xe=28),e.prototype.DB=xe,e.prototype.DM=(1<<xe)-1,e.prototype.DV=1<<xe;var Ee=52;e.prototype.FV=Math.pow(2,Ee),e.prototype.F1=Ee-xe,e.prototype.F2=2*xe-Ee;var Re,De,ke="0123456789abcdefghijklmnopqrstuvwxyz",Ce=new Array;for(Re="0".charCodeAt(0),De=0;9>=De;++De)Ce[Re++]=De;for(Re="a".charCodeAt(0),De=10;36>De;++De)Ce[Re++]=De;for(Re="A".charCodeAt(0),De=10;36>De;++De)Ce[Re++]=De;O.prototype.convert=A,O.prototype.revert=B,O.prototype.reduce=I,O.prototype.mulTo=U,O.prototype.sqrTo=K,V.prototype.convert=M,V.prototype.revert=L,V.prototype.reduce=J,V.prototype.mulTo=P,V.prototype.sqrTo=q,e.prototype.copyTo=c,e.prototype.fromInt=u,e.prototype.fromString=f,e.prototype.clamp=p,e.prototype.dlShiftTo=w,e.prototype.drShiftTo=x,e.prototype.lShiftTo=S,e.prototype.rShiftTo=_,e.prototype.subTo=E,e.prototype.multiplyTo=R,e.prototype.squareTo=D,e.prototype.divRemTo=k,e.prototype.invDigit=N,e.prototype.isEven=j,e.prototype.exp=H,e.prototype.toString=d,e.prototype.negate=g,e.prototype.abs=m,e.prototype.compareTo=b,e.prototype.bitLength=T,e.prototype.mod=C,e.prototype.modPowInt=$,e.ZERO=l(0),e.ONE=l(1),Nt.prototype.convert=Vt,Nt.prototype.revert=Vt,Nt.prototype.mulTo=Mt,Nt.prototype.sqrTo=Lt,jt.prototype.convert=Ht,jt.prototype.revert=$t,jt.prototype.reduce=zt,jt.prototype.mulTo=Ft,jt.prototype.sqrTo=Gt;var Oe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ae=(1<<26)/Oe[Oe.length-1];e.prototype.chunkSize=Y,e.prototype.toRadix=W,e.prototype.fromRadix=X,e.prototype.fromNumber=tt,e.prototype.bitwiseTo=st,e.prototype.changeBit=xt,e.prototype.addTo=Rt,e.prototype.dMultiply=Ut,e.prototype.dAddOffset=Kt,e.prototype.multiplyLowerTo=qt,e.prototype.multiplyUpperTo=Pt,e.prototype.modInt=Qt,e.prototype.millerRabin=te,e.prototype.clone=z,e.prototype.intValue=G,e.prototype.byteValue=F,e.prototype.shortValue=Z,e.prototype.signum=Q,e.prototype.toByteArray=et,e.prototype.equals=it,e.prototype.min=nt,e.prototype.max=rt,e.prototype.and=at,e.prototype.or=ct,e.prototype.xor=lt,e.prototype.andNot=pt,e.prototype.not=dt,e.prototype.shiftLeft=gt,e.prototype.shiftRight=mt,e.prototype.getLowestSetBit=bt,e.prototype.bitCount=Tt,e.prototype.testBit=wt,e.prototype.setBit=St,e.prototype.clearBit=_t,e.prototype.flipBit=Et,e.prototype.add=Dt,e.prototype.subtract=kt,e.prototype.multiply=Ct,e.prototype.divide=At,e.prototype.remainder=Bt,e.prototype.divideAndRemainder=It,e.prototype.modPow=Zt,e.prototype.modInverse=Wt,e.prototype.pow=Jt,e.prototype.gcd=Yt,e.prototype.isProbablePrime=Xt,e.prototype.square=Ot,ee.prototype.init=ie,ee.prototype.next=ne;var Be,Ie,Ue,Ke=256;if(null==Ie){Ie=new Array,Ue=0;var Ne;if(window.crypto&&window.crypto.getRandomValues){var Ve=new Uint32Array(256);for(window.crypto.getRandomValues(Ve),Ne=0;Ne<Ve.length;++Ne)Ie[Ue++]=255&Ve[Ne]}var Me=function Fe(t){if(this.count=this.count||0,this.count>=256||Ue>=Ke)return void(window.removeEventListener?window.removeEventListener("mousemove",Fe):window.detachEvent&&window.detachEvent("onmousemove",Fe));this.count+=1;var e=t.x+t.y;Ie[Ue++]=255&e};window.addEventListener?window.addEventListener("mousemove",Me):window.attachEvent&&window.attachEvent("onmousemove",Me)}ae.prototype.nextBytes=oe,ue.prototype.doPublic=fe,ue.prototype.setPublic=le,ue.prototype.encrypt=pe,ue.prototype.doPrivate=be,ue.prototype.setPrivate=ge,ue.prototype.setPrivateEx=me,ue.prototype.generate=ve,ue.prototype.decrypt=ye,function(){var t=function(t,i,r){var s=new ae,o=t>>1;this.e=parseInt(i,16);var a=new e(i,16),h=this,c=function u(){var i=function(){if(h.p.compareTo(h.q)<=0){var t=h.p;h.p=h.q,h.q=t}var i=h.p.subtract(e.ONE),n=h.q.subtract(e.ONE),s=i.multiply(n);0==s.gcd(a).compareTo(e.ONE)?(h.n=h.p.multiply(h.q),h.d=a.modInverse(s),h.dmp1=h.d.mod(i),h.dmq1=h.d.mod(n),h.coeff=h.q.modInverse(h.p),setTimeout(function(){r()},0)):setTimeout(u,0)},c=function f(){h.q=n(),h.q.fromNumberAsync(o,1,s,function(){h.q.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&h.q.isProbablePrime(10)?setTimeout(i,0):setTimeout(f,0)})})},l=function p(){h.p=n(),h.p.fromNumberAsync(t-o,1,s,function(){h.p.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&h.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(p,0)})})};setTimeout(l,0)};setTimeout(c,0)};ue.prototype.generateAsync=t;var i=function(t,e){var i=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(i.compareTo(n)<0){var r=i;i=n,n=r}var s=i.getLowestSetBit(),o=n.getLowestSetBit();if(0>o)return void e(i);o>s&&(o=s),o>0&&(i.rShiftTo(o,i),n.rShiftTo(o,n));var a=function h(){(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),i.compareTo(n)>=0?(i.subTo(n,i),i.rShiftTo(1,i)):(n.subTo(i,n),n.rShiftTo(1,n)),i.signum()>0?setTimeout(h,0):(o>0&&n.lShiftTo(o,n),setTimeout(function(){e(n)},0))};setTimeout(a,10)};e.prototype.gcda=i;var r=function(t,i,n,r){if("number"==typeof i)if(2>t)this.fromInt(1);else{this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ht,this),this.isEven()&&this.dAddOffset(1,0);var s=this,o=function c(){s.dAddOffset(2,0),s.bitLength()>t&&s.subTo(e.ONE.shiftLeft(t-1),s),s.isProbablePrime(i)?setTimeout(function(){r()},0):setTimeout(c,0)};setTimeout(o,0)}else{var a=new Array,h=7&t;a.length=(t>>3)+1,i.nextBytes(a),h>0?a[0]&=(1<<h)-1:a[0]=0,this.fromString(a,256)}};e.prototype.fromNumberAsync=r}();var Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je="=",qe=qe||{};qe.env=qe.env||{};var Pe=qe,je=Object.prototype,He="[object Function]",$e=["toString","valueOf"];qe.env.parseUA=function(t){var e,i=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},n=navigator,r={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:n&&n.cajaVersion,secure:!1,os:null},s=t||navigator&&navigator.userAgent,o=window&&window.location,a=o&&o.href;return r.secure=a&&0===a.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?r.os="windows":/macintosh/i.test(s)?r.os="macintosh":/rhino/i.test(s)&&(r.os="rhino"),/KHTML/.test(s)&&(r.webkit=1),e=s.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(r.webkit=i(e[1]),/ Mobile\//.test(s)?(r.mobile="Apple",e=s.match(/OS ([^\s]*)/),e&&e[1]&&(e=i(e[1].replace("_","."))),r.ios=e,r.ipad=r.ipod=r.iphone=0,e=s.match(/iPad|iPod|iPhone/),e&&e[0]&&(r[e[0].toLowerCase()]=r.ios)):(e=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(r.mobile=e[0]),/webOS/.test(s)&&(r.mobile="WebOS",e=s.match(/webOS\/([^\s]*);/),e&&e[1]&&(r.webos=i(e[1]))),/ Android/.test(s)&&(r.mobile="Android",e=s.match(/Android ([^\s]*);/),e&&e[1]&&(r.android=i(e[1])))),e=s.match(/Chrome\/([^\s]*)/),e&&e[1]?r.chrome=i(e[1]):(e=s.match(/AdobeAIR\/([^\s]*)/),e&&(r.air=e[0]))),r.webkit||(e=s.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(r.opera=i(e[1]),e=s.match(/Version\/([^\s]*)/),e&&e[1]&&(r.opera=i(e[1])),e=s.match(/Opera Mini[^;]*/),e&&(r.mobile=e[0])):(e=s.match(/MSIE\s([^;]*)/),e&&e[1]?r.ie=i(e[1]):(e=s.match(/Gecko\/([^\s]*)/),e&&(r.gecko=1,e=s.match(/rv:([^\s\)]*)/),e&&e[1]&&(r.gecko=i(e[1]))))))),r},qe.env.ua=qe.env.parseUA(),qe.isFunction=function(t){return"function"==typeof t||je.toString.apply(t)===He},qe._IEEnumFix=qe.env.ua.ie?function(t,e){var i,n,r;for(i=0;i<$e.length;i+=1)n=$e[i],r=e[n],Pe.isFunction(r)&&r!=je[n]&&(t[n]=r)}:function(){},qe.extend=function(t,e,i){if(!e||!t)throw new Error("extend failed, please check that all dependencies are included.");var n,r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==je.constructor&&(e.prototype.constructor=e),i){for(n in i)Pe.hasOwnProperty(i,n)&&(t.prototype[n]=i[n]);Pe._IEEnumFix(t.prototype,i)}},"undefined"!=typeof KJUR&&KJUR||(window.KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var i=t.toString(16);if("-"!=i.substr(0,1))i.length%2==1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{var n=i.substr(1),r=n.length;r%2==1?r+=1:i.match(/^[0-7]/)||(r+=2);for(var s="",o=0;r>o;o++)s+="f";var a=new e(s,16),h=a.xor(t).add(e.ONE);i=h.toString(16).replace(/^-/,"")}return i},this.getPEMStringFromHex=function(t,e){var i=CryptoJS.enc.Hex.parse(t),n=CryptoJS.enc.Base64.stringify(i),r=n.replace(/(.{64})/g,"$1\r\n");return r=r.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+r+"\r\n-----END "+e+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,i=e.toString(16);if(i.length%2==1&&(i="0"+i),128>e)return i;var n=i.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var r=128+n;return r.toString(16)+i},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},qe.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(t){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e){var i=this.zeroPadding,n=this.localDateToUTC(t),r=String(n.getFullYear());"utc"==e&&(r=r.substr(2,2));var s=i(String(n.getMonth()+1),2),o=i(String(n.getDate()),2),a=i(String(n.getHours()),2),h=i(String(n.getMinutes()),2),c=i(String(n.getSeconds()),2);return r+s+o+a+h+c+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setByDateValue=function(t,e,i,n,r,s){var o=new Date(Date.UTC(t,e-1,i,n,r,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},qe.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},qe.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},qe.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(t){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var i=new e(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},qe.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(t){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(0>t||t>7)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var i=0;e>=i;i++)t+="0";for(var n="",i=0;i<t.length-1;i+=8){var r=t.substr(i,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",i=0;i<t.length;i++)e+=1==t[i]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),i=0;t>i;i++)e[i]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},qe.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(t){KJUR.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},qe.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},qe.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(t){var i=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new e(t,10),s=r.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;o>h;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),n+=i(parseInt(c,2))}return n};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",r=t.split("."),s=40*parseInt(r[0])+parseInt(r[1]);e+=i(s),r.splice(0,2);for(var o=0;o<r.length;o++)e+=n(r[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.oid?this.setValueOidString(t.oid):"undefined"!=typeof t.hex?this.setValueHex(t.hex):"undefined"!=typeof t.name&&this.setValueName(t.name))},qe.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(t){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},qe.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(t){KJUR.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},qe.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(t){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},qe.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(t){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},qe.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(t){KJUR.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},qe.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(t){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},qe.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(t){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},qe.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(t){KJUR.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t+=i.getEncodedHex()}return this.hV=t,this.hV}},qe.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(t){KJUR.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t.push(i.getEncodedHex())}return t.sort(),this.hV=t.join(""),this.hV}},qe.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(t){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",
this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,i){this.hT=e,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},qe.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(t){var e,i={};i.decode=function(i){var n;if(e===t){var r="0123456789ABCDEF",s=" \f\n\r	\xa0\u2028\u2029";for(e=[],n=0;16>n;++n)e[r.charAt(n)]=n;for(r=r.toLowerCase(),n=10;16>n;++n)e[r.charAt(n)]=n;for(n=0;n<s.length;++n)e[s.charAt(n)]=-1}var o=[],a=0,h=0;for(n=0;n<i.length;++n){var c=i.charAt(n);if("="==c)break;if(c=e[c],-1!=c){if(c===t)throw"Illegal character at offset "+n;a|=c,++h>=2?(o[o.length]=a,a=0,h=0):a<<=4}}if(h)throw"Hex encoding incomplete: 4 bits missing";return o},window.Hex=i}(),function(t){var e,i={};i.decode=function(i){var n;if(e===t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="= \f\n\r	\xa0\u2028\u2029";for(e=[],n=0;64>n;++n)e[r.charAt(n)]=n;for(n=0;n<s.length;++n)e[s.charAt(n)]=-1}var o=[],a=0,h=0;for(n=0;n<i.length;++n){var c=i.charAt(n);if("="==c)break;if(c=e[c],-1!=c){if(c===t)throw"Illegal character at offset "+n;a|=c,++h>=4?(o[o.length]=a>>16,o[o.length]=a>>8&255,o[o.length]=255&a,a=0,h=0):a<<=6}}switch(h){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:o[o.length]=a>>10;break;case 3:o[o.length]=a>>16,o[o.length]=a>>8&255}return o},i.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,i.unarmor=function(t){var e=i.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw"RegExp out of sync";t=e[2]}return i.decode(t)},window.Base64=i}(),function(t){function e(t,i){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)}function n(t,e,i,n,r){this.stream=t,this.header=e,this.length=i,this.tag=n,this.sub=r}var r=100,s="\u2026",o={tag:function(t,e){var i=document.createElement(t);return i.className=e,i},text:function(t){return document.createTextNode(t)}};e.prototype.get=function(e){if(e===t&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},e.prototype.hexDump=function(t,e,i){for(var n="",r=t;e>r;++r)if(n+=this.hexByte(this.get(r)),i!==!0)switch(15&r){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.parseStringISO=function(t,e){for(var i="",n=t;e>n;++n)i+=String.fromCharCode(this.get(n));return i},e.prototype.parseStringUTF=function(t,e){for(var i="",n=t;e>n;){var r=this.get(n++);i+=128>r?String.fromCharCode(r):r>191&&224>r?String.fromCharCode((31&r)<<6|63&this.get(n++)):String.fromCharCode((15&r)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return i},e.prototype.parseStringBMP=function(t,e){for(var i="",n=t;e>n;n+=2){var r=this.get(n),s=this.get(n+1);i+=String.fromCharCode((r<<8)+s)}return i},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(t,e){var i=this.parseStringISO(t,e),n=this.reTime.exec(i);return n?(i=n[1]+"-"+n[2]+"-"+n[3]+" "+n[4],n[5]&&(i+=":"+n[5],n[6]&&(i+=":"+n[6],n[7]&&(i+="."+n[7]))),n[8]&&(i+=" UTC","Z"!=n[8]&&(i+=n[8],n[9]&&(i+=":"+n[9]))),i):"Unrecognized time: "+i},e.prototype.parseInteger=function(t,e){var i=e-t;if(i>4){i<<=3;var n=this.get(t);if(0===n)i-=8;else for(;128>n;)n<<=1,--i;return"("+i+" bit)"}for(var r=0,s=t;e>s;++s)r=r<<8|this.get(s);return r},e.prototype.parseBitString=function(t,e){var i=this.get(t),n=(e-t-1<<3)-i,r="("+n+" bit)";if(20>=n){var s=i;r+=" ";for(var o=e-1;o>t;--o){for(var a=this.get(o),h=s;8>h;++h)r+=a>>h&1?"1":"0";s=0}}return r},e.prototype.parseOctetString=function(t,e){var i=e-t,n="("+i+" byte) ";i>r&&(e=t+r);for(var o=t;e>o;++o)n+=this.hexByte(this.get(o));return i>r&&(n+=s),n},e.prototype.parseOID=function(t,e){for(var i="",n=0,r=0,s=t;e>s;++s){var o=this.get(s);if(n=n<<7|127&o,r+=7,!(128&o)){if(""===i){var a=80>n?40>n?0:1:2;i=a+"."+(n-40*a)}else i+="."+(r>=31?"bigint":n);n=r=0}}return i},n.prototype.typeName=function(){if(this.tag===t)return"unknown";var e=this.tag>>6,i=(this.tag>>5&1,31&this.tag);switch(e){case 0:switch(i){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+i.toString(16)}case 1:return"Application_"+i.toString(16);case 2:return"["+i+"]";case 3:return"Private_"+i.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===t)return null;var e=this.tag>>6,i=31&this.tag,n=this.posContent(),o=Math.abs(this.length);if(0!==e){if(null!==this.sub)return"("+this.sub.length+" elem)";var a=this.stream.parseStringISO(n,n+Math.min(o,r));return this.reSeemsASCII.test(a)?a.substring(0,2*r)+(a.length>2*r?s:""):this.stream.parseOctetString(n,n+o)}switch(i){case 1:return 0===this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+o);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+o);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+o);case 6:return this.stream.parseOID(n,n+o);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+o);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+o);case 30:return this.stream.parseStringBMP(n,n+o);case 23:case 24:return this.stream.parseTime(n,n+o)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(e){if(e===t&&(e=""),document.writeln(e+this),null!==this.sub){e+="  ";for(var i=0,n=this.sub.length;n>i;++i)this.sub[i].print(e)}},n.prototype.toPrettyString=function(e){e===t&&(e="");var i=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(i+="+"),i+=this.length,32&this.tag?i+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(i+=" (encapsulates)"),i+="\n",null!==this.sub){e+="  ";for(var n=0,r=this.sub.length;r>n;++n)i+=this.sub[n].toPrettyString(e)}return i},n.prototype.toDOM=function(){var t=o.tag("div","node");t.asn1=this;var e=o.tag("div","head"),n=this.typeName().replace(/_/g," ");e.innerHTML=n;var r=this.content();if(null!==r){r=String(r).replace(/</g,"&lt;");var s=o.tag("span","preview");s.appendChild(o.text(r)),e.appendChild(s)}t.appendChild(e),this.node=t,this.head=e;var a=o.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==r&&(n+="<br/>Value:<br/><b>"+r+"</b>","object"===("undefined"==typeof oids?"undefined":i(oids))&&6==this.tag)){var h=oids[r];h&&(h.d&&(n+="<br/>"+h.d),h.c&&(n+="<br/>"+h.c),h.w&&(n+="<br/>(warning!)"))}a.innerHTML=n,t.appendChild(a);var c=o.tag("div","sub");if(null!==this.sub)for(var u=0,l=this.sub.length;l>u;++u)c.appendChild(this.sub[u].toDOM());return t.appendChild(c),e.onclick=function(){t.className="node collapsed"==t.className?"node":"node collapsed"},t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(t){this.node.className+=" hover",t&&(this.head.className+=" hover")},n.prototype.fakeOut=function(t){var e=/ ?hover/;this.node.className=this.node.className.replace(e,""),t&&(this.head.className=this.head.className.replace(e,""))},n.prototype.toHexDOM_sub=function(t,e,i,n,r){if(!(n>=r)){var s=o.tag("span",e);s.appendChild(o.text(i.hexDump(n,r))),t.appendChild(s)}},n.prototype.toHexDOM=function(e){var i=o.tag("span","hex");if(e===t&&(e=i),this.head.hexNode=i,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},i.asn1=this,i.onmouseover=function(){var t=!e.selected;t&&(e.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(t)},i.onmouseout=function(){var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&&(e.selected=null,this.className="hex")},this.toHexDOM_sub(i,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(i,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)i.appendChild(o.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var n=this.sub[0],r=this.sub[this.sub.length-1];this.toHexDOM_sub(i,"intro",this.stream,this.posContent(),n.posStart());for(var s=0,a=this.sub.length;a>s;++s)i.appendChild(this.sub[s].toHexDOM(e));this.toHexDOM_sub(i,"outro",this.stream,r.posEnd(),this.posEnd())}return i},n.prototype.toHexString=function(t){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(t){var e=t.get(),i=127&e;if(i==e)return i;if(i>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0===i)return-1;e=0;for(var n=0;i>n;++n)e=e<<8|t.get();return e},n.hasContent=function(t,i,r){if(32&t)return!0;if(3>t||t>4)return!1;var s=new e(r);3==t&&s.get();var o=s.get();if(o>>6&1)return!1;try{var a=n.decodeLength(s);return s.pos-r.pos+a==i}catch(h){return!1}},n.decode=function(t){t instanceof e||(t=new e(t,0));var i=new e(t),r=t.get(),s=n.decodeLength(t),o=t.pos-i.pos,a=null;if(n.hasContent(r,s,t)){var h=t.pos;if(3==r&&t.get(),a=[],s>=0){for(var c=h+s;t.pos<c;)a[a.length]=n.decode(t);if(t.pos!=c)throw"Content size is not correct for container starting at offset "+h}else try{for(;;){var u=n.decode(t);if(0===u.tag)break;a[a.length]=u}s=h-t.pos}catch(l){throw"Exception while decoding undefined length content: "+l}}else t.pos+=s;return new n(i,o,s,r,a)},n.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],i=0,r=t.length;r>i;++i){var s=new e(t[i].value,0),o=n.decodeLength(s);o!=t[i].expected&&document.write("In test["+i+"] expected "+t[i].expected+" got "+o+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,i=2*this.length;return t.substr(e,i)},ue.prototype.parseKey=function(t){try{var e=0,i=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,r=n.test(t)?Hex.decode(t):Base64.unarmor(t),s=ASN1.decode(r);if(9===s.sub.length){e=s.sub[1].getHexStringValue(),this.n=he(e,16),i=s.sub[2].getHexStringValue(),this.e=parseInt(i,16);var o=s.sub[3].getHexStringValue();this.d=he(o,16);var a=s.sub[4].getHexStringValue();this.p=he(a,16);var h=s.sub[5].getHexStringValue();this.q=he(h,16);var c=s.sub[6].getHexStringValue();this.dmp1=he(c,16);var u=s.sub[7].getHexStringValue();this.dmq1=he(u,16);var l=s.sub[8].getHexStringValue();this.coeff=he(l,16)}else{if(2!==s.sub.length)return!1;var f=s.sub[1],p=f.sub[0];e=p.sub[0].getHexStringValue(),this.n=he(e,16),i=p.sub[1].getHexStringValue(),this.e=parseInt(i,16)}return!0}catch(d){return!1}},ue.prototype.getPrivateBaseKey=function(){var t={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},e=new KJUR.asn1.DERSequence(t);return e.getEncodedHex()},ue.prototype.getPrivateBaseKeyB64=function(){return Te(this.getPrivateBaseKey())},ue.prototype.getPublicBaseKey=function(){var t={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},e=new KJUR.asn1.DERSequence(t);t={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var i=new KJUR.asn1.DERSequence(t);t={hex:"00"+i.getEncodedHex()};var n=new KJUR.asn1.DERBitString(t);t={array:[e,n]};var r=new KJUR.asn1.DERSequence(t);return r.getEncodedHex()},ue.prototype.getPublicBaseKeyB64=function(){return Te(this.getPublicBaseKey())},ue.prototype.wordwrap=function(t,e){if(e=e||64,!t)return t;var i="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(i,"g")).join("\n")},ue.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},ue.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},ue.prototype.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},ue.prototype.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},ue.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)};var ze=function(t){ue.call(this),t&&("string"==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&&this.parsePropertiesFrom(t))};ze.prototype=new ue,ze.prototype.constructor=ze;var Ge=function(t){t=t||{},this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null};Ge.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new ze(t)},Ge.prototype.setPrivateKey=function(t){this.setKey(t)},Ge.prototype.setPublicKey=function(t){this.setKey(t)},Ge.prototype.decrypt=function(t){try{return this.getKey().decrypt(we(t))}catch(e){return!1}},Ge.prototype.encrypt=function(t){try{return Te(this.getKey().encrypt(t))}catch(e){return!1}},Ge.prototype.getKey=function(t){if(!this.key){if(this.key=new ze,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Ge.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Ge.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Ge.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Ge.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.JSEncrypt=Ge}(n);var r=n.JSEncrypt;window.JSEncrypt=r},function(t,e){t.exports='<div class="login_box clearfix">\n  <p class="error_tip">\u8bf7\u8f93\u5165\u5bc6\u7801\uff01</p>\n  <div class="lg_form">\n      <ul class="mod_box lo_mod_box" data-isshow="0">\n          <li class="login_title">\n              <a class="fr eb_mod" href="javascript:;">\u624b\u673a\u52a8\u6001\u5bc6\u7801\u767b\u5f55</a>\n              <b>\u666e\u901a\u767b\u5f55</b>\n          </li>\n          <li class="lg_item lg_name">\n              <b class="lg_icon"></b>\n              <input type="text" maxlength="32" class="text r3" name="uname" def-v="\u624b\u673a/\u90ae\u7bb1/\u7528\u6237\u540d" value="\u624b\u673a/\u90ae\u7bb1/\u7528\u6237\u540d" style="border-color: rgb(20 20 207); color:#ccc;">\n          </li>\n          <li class="lg_item u_passwd">\n              <b class="lg_icon"></b>\n              <input type="password" name="pass" class="text">\n          </li>\n      </ul>\n      <ul class="mod_box eb_mod_box" data-isshow="0">\n          <li class="login_title">\n              <a class="fr lo_mod" href="javascript:;">\u666e\u901a\u767b\u5f55</a>\n              <b>\u624b\u673a\u52a8\u6001\u5bc6\u7801\u767b\u5f55</b>\n          </li>\n          <li class="lg_item lg_name">\n              <b class="lg_icon"></b>\n              <input type="text" maxlength="32" class="text r3" name="uname" def-v="\u624b\u673a" value="\u624b\u673a" style="border-color: rgb(20 20 207); color:#ccc;">\n          </li>\n          <li class="lg_item lg_code">\n              <b class="lg_icon"></b>\n              <input type="text" maxlength="32" class="text r3" name="telcode" def-v="\u52a8\u6001\u5bc6\u7801" value="\u52a8\u6001\u5bc6\u7801" style="border-color: rgb(20 20 207); color:#ccc;">\n          </li>\n          <li class="lg_chk"></li>\n          <li class="lg_item lg_getcode">\n              <a href="javascript:;" class="get_tel_code" id="get_tel_code" send-method="nologin" tel-input-id="uname" ready-text="\u83b7\u53d6\u624b\u673a\u52a8\u6001\u5bc6\u7801" wait-text="\u91cd\u65b0\u83b7\u53d6\u52a8\u6001\u5bc6\u7801">\u83b7\u53d6\u624b\u673a\u52a8\u6001\u5bc6\u7801</a>\n          </li>\n      </ul>\n      <div id="_content"></div>\n      <input type="hidden" id="imgchecktype">\n      <div class="lg_remember"><input type="checkbox" name="remember" class="checkbox" checked=""> \u8bb0\u4f4f\u6211\uff08\u4e24\u5468\u514d\u767b\u5f55\uff09</div>\n      <div class="lg_login">\n          <input type="button" value="" class="sub">\n          <input type="hidden" value="" id="imgcheckvalue">\n          <a class="ml10" href="http://www.mogujie.com/usersecurity/findpwd" target="_blank">\u5fd8\u8bb0\u5bc6\u7801\uff1f</a>\n          <a href="http://portal.mogujie.com/user/register">\u65b0\u7528\u6237\u6ce8\u518c</a>\n      </div>\n  </div>\n  <div class="login_other">\n      <span>\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f</span>\n      <a href="javascript:;" class="ui-ot-btn login_qq" data-type="qq"></a>\n      <a href="javascript:;" class="ui-ot-btn login_wb" data-type="sina"></a>\n      <a href="javascript:;" class="ui-ot-btn login_wx" data-type="weixin"></a>\n  </div>\n</div>\n<script id="_script"></script>\n'}])}),"function"==typeof define&&define.amd&&require(["pc/common/login/index"]);!function(t){function e(t,e){this.init(t,e)}function a(){function e(e){return t.trim(e).replace(/(<|>|'|"|window|alert|eval|$|jQuery)/gi,"")}h.on("keyup keydown",function(o){var n=t(this),i=t("#select_type");if(!i.length||"bao"===i.val()||"5"===i.val())switch(o.keyCode){case 40:if("keyup"==o.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex+1>g.tipLength-1?0:++g.chooseIndex;var r=v.changeListTab(g.chooseIndex);h.val(r);break;case 38:if("keyup"==o.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex-1<0?g.tipLength-1:--g.chooseIndex;var r=v.changeListTab(g.chooseIndex);h.val(r);break;case 13:if("keyup"==o.type)break;o.preventDefault(),a.submitBefore(g.chooseType,g.chooseIndex),d.submit();break;case 37:break;case 39:break;default:clearTimeout(s),s=setTimeout(function(){var t=e(n.val());v.resetFactory(t)},500)}}).on("focus",function(){var a=t(this),o=t("#select_type");if(s&&clearTimeout(s),!o.length||"bao"===o.val()||"5"===o.val()){var n=e(a.val());clearTimeout(s),s=setTimeout(function(){v.resetFactory(n)},300)}}).on("blur",function(){t("body").bind("click",function(e){t(e.target).parents(".seatch_type_msearch").length||(l.empty().data("isshow",!0).hide(),t("body").unbind("click"))})}),l.on("mouseenter",".search_tip li",function(e){var a=t(this),o=a.index();g.chooseIndex=o,v.changeListTab(o)}).on("click",".search_tip li",function(e){var o=t(this).find(".title").text();t(e.target).hasClass("prop")&&(o+=" "+t(e.target).text()),a.submitBefore(g.chooseType,g.chooseIndex),h.val(o),d.submit()}),l.on("click",".hot_list li",function(){var e=t(this);return a.submitBefore(v.hotTypeName,e.index()),h.val(e.find("span").html()),d.submit(),!1}),l.on("click",".local_del",function(e){var a=t(this),o=a.parent();f.del(o.find(".title").attr("title"));var n=f.getTenItem();return v.updateLocalContent(a,n),g.chooseIndex=-1,g.tipLength=n.length,!1}).on("click",".local_title .del_all",function(){var e=t(this);return f.set(),v.destoryLocalContent(e),e.remove(),g.chooseIndex=-1,g.tipLength=0,!1}),o.on("click",".selectbox a",function(e){e.preventDefault(),v.changeType(t(this))}).on("mouseenter",".selectbox",function(){l.hide(),t(this).addClass("sele_hover")}).on("mouseleave",".selectbox",function(){t(this).removeClass("sele_hover")}),d.submit(function(){var o=t(this),n=e(h.val()),i=h.attr("def-v");if(""==n||n==i){if(""==n&&"shop"==t("#select_type").val())return!1;var r=h.data("def");h.val(r||"");var s='<input type="hidden" name="from" value="searchplacehold" id="TJ">';t("#top_nav_form").append(s),setTimeout(function(){t("#TJ").remove()},1e3)}else n==t.trim(h.val())&&"bao"==t("#select_type").val()&&f.addOne(n);if(d.find(".emptyvalue").remove(),o.data("index")>-1&&null!==o.data("type")){var c='<input type="hidden" class="emptyvalue" name="from" value="'+o.data("type")+"querytip"+o.data("index")+'">';d.append(c)}return v.destoryContent(),a.submitAfter(),!1}),v.showStickySearch()&&v.initStickySearch()}var o=t("#nav_search_form")||[];if(o.length>0&&!(window.M&&M.pc&&M.pc.__SEARCHBAR_JS_HAS_LOAD__)){M.pc.__SEARCHBAR_JS_HAS_LOAD__=!0;var n="//list.mogujie.com/module/mget?code=sketch,hotWord",i="//list.mogujie.com/module/mget?code=tips";t&&t.fn&&!t.fn.serializeObject&&(t.fn.serializeObject=function(){var e={},a=this.serializeArray();return t.each(a,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e});var r=function(){var t=this;t.init()};r.prototype={constructor:r,init:function(){var t=this;t.requestLogo(),t.fixIe()},requestLogo:function(){var e="//mce.mogucdn.com/jsonp/multiget/3?pids=14360",a="https://s10.mogucdn.com/p1/170301/idid_ifrwimrvmqygkzrvmuzdambqhayde_440x180.png";M.http.jsonp({url:e,timeout:2e4,jsonpCallback:"__GET_SEARCHBAR_IMG__"}).then(function(e){if(e&&e.success&&e.data&&e.data[14360]&&e.data[14360].list&&e.data[14360].list[0]){var o=e.data[14360].list[0];if(o.link&&""!=o.link&&(t(".header_mid .wrap .logo").attr("href",o.link),t(".sticky-search-container .wrap .logo").attr("href",o.link)),o.logoImg&&""!=o.logoImg){var n=new Image;n.src=o.logoImg,t(".header_mid .wrap .logo").css({"background-image":"none"}),t(".header_mid .wrap .logo").html('<img src="'+o.logoImg+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')}if(o.sLogoImg&&""!=o.sLogoImg&&t(".sticky-search-container .logo-wrap .logo img").attr("src",o.sLogoImg),o.codeImg&&""!=o.codeImg){var i=new Image;i.src=o.codeImg,t(".header_mid .wrap .mid_fr").html('<img src="'+o.codeImg+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')}else t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">');o.codeBg&&""!=o.codeBg&&t(".header_mid .wrap .mid_fr").css({"background-image":'url("'+o.codeBg+'")'})}else t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')})["catch"](function(){t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')})},fixIe:function(){var e=M.ua.ie67||M.ua.ie8;e||t(".top_nav_search .top_search_hint").addClass("is-not-ie8-hack")},inputTextHide:function(e,a){e.focus(function(){var e=t(this);t.trim(e.val())==t.trim(e.attr("def-v"))&&e.val(""),a&&e.addClass(a)}),e.blur(function(){var e=t(this);""==t.trim(e.val())&&(e.val(e.attr("def-v")),a&&e.removeClass(a))})},getStore:function(t){if(!window.localStorage)return!1;var e=window.localStorage.getItem(t),a=JSON.parse(e);return a},setStore:function(t,e){if(!window.localStorage)return!1;var a=JSON.stringify(e);window.localStorage.setItem(t,a)}};var s,c=new r,l=t(".top_search_hint"),h=o.find(".ts_txt"),d=t("#top_nav_form"),u=t("#select_type"),p=o.find(".selectbox"),m={nowHost:window.location.host,defultHost:"http://search.mogujie.com",listHost:"http://list.mogujie.com/s",template:function(t){return'<div class="search_tip_box fl">'+t+"</div>"},listItemTemp:function(t){var e='<div class="mr300 tip_wrap"> ';e+=t.titleName&&""!=t.titleName?' <h3 class="search_tip_title">'+t.titleName+"</h3> ":" ",e+=' <ul class="search_tip"> ';var a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;){o=a[n+=1],e+=" ";var r=o.acm,s=o.query,c=o.color||"#333",l=o.highcolor,h=o.bold,d=o.italic,u=o.link||"http://list.mogujie.com/s";u=u+"?q="+s+"&acm="+r,c=c&&"#"===c.slice(0,1)?c:"#"+c,l=l?"#"===l.slice(0,1)?l:"#"+l:"";var p=c?"color: "+c+";":"",m=l?"background-color: "+l+";":"",f=h?"font-weight: bold;":"",g=d?"font-style: italic;":"";if(10>n){e+=' <li> <a href="'+u+'" style="'+p+f+g+m+'" class="title" title="'+o.query+'" >'+o.query+"</a> ";var v=o.tags;if(v)for(var _,y=-1,w=v.length-1;w>y;)_=v[y+=1],e+=" ",_.tag&&""!=_.tag&&(e+=' <a href="http://list.mogujie.com/s?q='+o.query+" "+_.tag+"&acm="+o.acm+'" class="prop" title="'+_.tag+'"><span>'+_.tag+"</sapn></a> "),e+=" ";e+=" </li> "}e+=" "}return e+=" </ul></div>"},localItemTemp:function(t){var e='<div class="mr300 tip_wrap"> <h3 class="search_tip_title local_title clearfix"> ';t.items.length&&(e+=' <span class="del_all">\u5220\u9664</span> '),e+='\u5386\u53f2\u8bb0\u5f55</h3> <ul class="search_tip"> ';var a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;){if(o=a[n+=1],e+=" ",10>n){e+=' <li class="local_item"> <a href="javascript:;" class="title" title="'+o+'" >'+o+"</a> ";var r=o.props;if(r)for(var s,c=-1,l=r.length-1;l>c;)s=r[c+=1],e+=' <span class="prop">'+s+"</span> ";e+=' <span class="nums local_del">x</span> </li> '}e+=" "}return e+=" </ul></div>"},hotKeyTpl:function(t){var e='<div class="search_hot_wrap"> <h3 class="search_tip_title hot_title">\u70ed\u95e8\u5173\u952e\u8bcd</h3> <ul class="hot_list clearfix"> ',a=t.items;if(a)for(var o,n=-1,i=a.length-1;i>n;)o=a[n+=1],e+=" ",10>n&&(e+=" <li><span>"+o.title+"</span></li> "),e+=" ";return e+=" </ul></div>"},emptyTpl:function(){return'<div class="mr300 tip_wrap"><p class="tip_none">\u6682\u65e0\u76f8\u5173\u70ed\u95e8\u5173\u952e\u8bcd</p></div>'}},f={keyName:"_search_local_history",keyShowName:"_search_local_history_show",maxLength:20,showLength:10,isshow:function(){return!0},abtest:function(t){c.setStore(this.keyShowName,1)},get:function(){return c.getStore(this.keyName)||[]},getTenItem:function(){var t=this.get();return t.slice(0,this.showLength)},set:function(t){c.setStore(this.keyName,t||[])},addOne:function(e){if(e=t.trim(e),""!=e){var a=this.get(),o=t.inArray(e,a);-1==o?(a.unshift(e),a.length>this.maxLength&&a.pop()):(a.splice(o,1),a.unshift(e)),this.set(a)}},del:function(e){e=t.trim(e);var a=this.get(),o=t.inArray(e,a);o>-1&&(a.splice(o,1),this.set(a))}};GetQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?decodeURIComponent(a[2]):""},e.prototype.init=function(t,e){this.chooseIndex=-1,this.chooseType=t,this.tipLength=e||0};var g=new e("undefined"),v={ajaxKey:0,hotKeyArr:[],isShopHost:function(){var e=t("#M_searchbar_flag_isshop")||[],a=e.val();return!!(e&&e.length>0&&a&&"shop"===a)},showStickySearch:function(){var e=(location.pathname,t("#body_wrap")),a=e.length>0?e.offset().top:150;return 150>a&&(a=150),"show"==t("#J_searchbar_flag").val()?(this.stickyTargetTop=a,!0):!1},initSearchForm:function(e){var a=d.find(".ts_txt"),o=GetQueryString("q");o&&a.attr("def-v","").val(o),M.http.jsonp({url:n,jsonpCallback:"__GET_HOTWORD_BASEWORD__"}).then(function(n){if(n&&n.success&&"SUCCESS"==n.returnCode&&n.data){var i=n.data.sketch&&n.data.sketch.data||{},r=n.data.hotWord&&n.data.hotWord.data||[],s=i&&i.frontword||"",c=i&&i.query||"",l=i&&i.acm||"",h=l?[l]:[];o||a.attr("def-v",s).val(s),a.attr("data-def",c),a.attr("data-acm",l);var d="";if(t(r).each(function(t,e){var a=e.acm,o=e.query,n=e.frontword,i=e.color||"#666",r=e.highcolor,s=(e.tag,e.bold),c=e.italic,l=e.link||"http://list.mogujie.com/s";l=l+"?q="+o+"&from=hotword&acm="+a,i=i&&"#"===i.slice(0,1)?i:"#"+i,r=r?"#"===r.slice(0,1)?r:"#"+r:"";var u=i?"color: "+i+";":"",p=r?"background-color: "+r+";":"",m=s?"font-weight: bold;":"",f=c?"font-style: italic;":"",g=['<a rel="nofollow" class="ts_hotword" href="',l,'" style="'+u+m+f+p+'">',n,"</a>"].join("");d+=g,a&&h.push(a)}),t(".ts_hotwords").html(d),window.logger&&window.logger.log){var u=window.logger.log;try{u("0x00000000",{acms:h})}catch(p){}}}t.isFunction(e)&&e(n)})["catch"](function(){})},resetFactory:function(t){this.isShopHost()?this.resetShopContent(t):f.isshow()?this.resetListContent(t):this.resetOldContent(t)},searchReaultLogger:function(t){if(t&&t.data&&t.data.tips&&t.data.tips.data){for(var e=t.data.tips.data||{},a=Math.min(e.length,10),o={acm:[],index:[],tags:[],query:[]},n=0;a>n;n++){var i=e[n];o.acm.push(i.acm),o.index.push(n),o.query.push(i.query);for(var r=i.tags||[],s=[],c=0;c<r.length;c++)s.push(r[c].tag);o.tags.push(s)}if(window.logger&&window.logger.log){var l=window.logger.log;try{l("000000120",o)}catch(h){}}}},resetListContent:function(a){function o(t){n(function(){r()})}function n(o){var n=f.getTenItem();return""==t.trim(a)?(c.push(s.renderLocalContent(n)),void(t.isFunction(o)&&o())):void M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_1__"}).then(function(a){if(h>=s.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,r=n.slice(0,10);0==i?c.push(s.renderEmptyContent()):(c.push(s.renderSearchContent(r)),g=new e(s.searchTypeName,i)),s.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function r(){var t=m.template(c.join(""))||"";l.html(t),s.showContentBox()}var s=this,c=[],h=++s.ajaxKey;o(s.hotKeyArr)},resetShopContent:function(a){function o(o){M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_2__"}).then(function(a){if(d>=r.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,l=n.slice(0,10);0==i?s.push(r.renderEmptyContent()):(s.push(r.renderSearchContent(l,c)),g=new e(h,i)),r.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function n(){var t=m.template(s.join(""))||"";l.html(t),r.showContentBox()}var r=this,s=[],c="",h=""!=a?r.searchTypeName:r.hotTypeName,d=++r.ajaxKey;o(function(){n()})},resetOldContent:function(a){function o(o){M.http.jsonp({url:i,data:{keyWord:a},jsonpCallback:"__GET_SEARCH_RESULT_3__"}).then(function(a){if(d>=r.ajaxKey&&a&&a.success&&a.data&&a.data.tips&&a.data.tips.data){var n=a.data.tips.data||[],i=n.length,l=n.slice(0,10);0==i?s.push(r.renderEmptyContent()):(s.push(r.renderSearchContent(l,c)),g=new e(h,i)),r.searchReaultLogger(a)}t.isFunction(o)&&o()})["catch"](function(){})}function n(){var t=m.template(s.join(""))||"";l.html(t),l.find(".tip_wrap").removeClass("mr300").addClass("mr300_fix"),r.showContentBox()}var r=this,s=[],c=""!=a?"\u641c\u7d22\u7ed3\u679c":"\u70ed\u95e8\u5173\u952e\u8bcd",h=""!=a?r.searchTypeName:r.hotTypeName,d=++r.ajaxKey;o(function(){n()})},searchTypeName:"",renderSearchContent:function(t,e){return m.listItemTemp({titleName:e||null,items:t})},localTypeName:"local",renderLocalContent:function(t){return m.localItemTemp({items:t})},updateLocalContent:function(t,e){var a=t.parent(),o=t.parents(".search_tip");if(a.length&&o.length)if(e.length<f.showLength)a.remove();else{var n=e[f.showLength-1];a.find(".title").attr("title",n).html(n),a.appendTo(o)}},destoryLocalContent:function(t){var e=t.parents(".tip_wrap").find(".search_tip");e.length&&e.empty()},hotTypeName:"default",renderHotContent:function(t){for(var e=[],a=0;a<t.length;a++)e.push({title:t[a]});return m.hotKeyTpl({items:e})},renderEmptyContent:function(){return m.emptyTpl()},destoryContent:function(){l.empty().hide()},getContentPosition:function(t,e){var a=e.offset(),o=t.data("fixleft"),n=t.data("fixtop");o&&(a.left+=parseInt(o)),n&&(a.top-=parseInt(n));var i=e.width()-34;t.css({left:a.left,top:a.top+e.height()+2,width:i}).addClass("hasposition")},showContentBox:function(){l.show().data("isshow",!0)},changeListTab:function(t){var e=l.find(".search_tip li"),a=e.eq(t);return e.removeClass("checked"),a.addClass("checked"),a.find(".title").text()},changeType:function(t){var e=t.parent(),a=e.attr("data-index"),o=t.text();if(u.val(a),p.find(".selected").text("\u641c"+o),e.siblings("li").removeClass("current"),e.addClass("current"),"shop"==a)h.val()==h.attr("def-v")&&h.val("");else if(""==h.val()){var n=h.attr("def-v");h.val(n)}4==a?"shop.mogujie.com"===m.nowHost?d.attr("action",m.defultHost+"/group/search/"):d.attr("action","/group/search/"):"shop.mogujie.com"===m.nowHost?d.attr("action",m.listHost):"shop"==a?d.attr("action","http://list.mogujie.com/book/search/shop"):d.attr("action",m.listHost),p.removeClass("sele_hover")},initStickySearch:function(){var e=t("#nav_search_form"),a=['<div id="J_sticky_container" class="sticky-search-container">','<div class="wrap clearfix">','<div class="logo-wrap clearfix">','<a rel="nofollow" href="http://www.mogujie.com" class="logo" title="\u8611\u83c7\u8857|\u6211\u7684\u4e70\u624b\u8857"><img src="https://s10.mogucdn.com/p1/170301/idid_ifqtam3chbrgkzrvmuzdambqgyyde_224x70.png" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857"></a>',"</div>",'<div class="sticky-search-content"></div>',"</div>","</div>"].join("");t("body").append(a);var o=t(".sticky-search-container");t(window).off("scroll.sticky").on("scroll.sticky",function(){t(document).scrollTop()>v.stickyTargetTop?o.hasClass("lets-rock")||o.find(".sticky-search-content").append(e).end().addClass("lets-rock"):o.hasClass("lets-rock")&&(t(".normal-search-content").append(t("#nav_search_form")),o.find(".sticky-search-content").empty().end().removeClass("lets-rock"))})}};a.submitBefore=function(t,e){d.data({type:t,index:e})},a.submitAfter=function(){d.removeData("type index");var e=t.trim(d.find("input[name=t]").val());d.find("input[name=t]").remove(),g.chooseType="undefined",g.chooseIndex=-1;var a=t.map(d.serializeObject(),function(t,e){return[e,encodeURIComponent(t)].join("=")}).join("&"),o="";if("shop"==e)o="http://list.mogujie.com/book/search/shop?"+a;else{var n=h.attr("data-acm")||"",i=h.val()||"",r=h.attr("data-def")||"";o=n&&i&&r&&r==i?"http://list.mogujie.com/s?acm="+n+"&"+a:"http://list.mogujie.com/s?"+a}logger&&logger.generatePtpParams&&(o=logger.generatePtpParams(o)),window.location.href=o};var _=function(){c.inputTextHide(h,"ts_high"),"www.mogujie.com"===m.nowHost||p.parents(".store_header").length||d.attr("action",m.listHost),d.find(".ts_btn").attr("disabled",!1),a()};v.initSearchForm(_)}}(jQuery);